<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>路由响应 | QueryPHP</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="高性能 PHP 渐进式框架.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.02d1ffad.css" as="style"><link rel="preload" href="/assets/js/app.4e28babf.js" as="script"><link rel="preload" href="/assets/js/3.c395b2ff.js" as="script"><link rel="preload" href="/assets/js/376.f006b63f.js" as="script"><link rel="prefetch" href="/assets/js/10.0dc60a64.js"><link rel="prefetch" href="/assets/js/100.4ff43df7.js"><link rel="prefetch" href="/assets/js/101.1f685b3c.js"><link rel="prefetch" href="/assets/js/102.5bd63de3.js"><link rel="prefetch" href="/assets/js/103.f0357f6b.js"><link rel="prefetch" href="/assets/js/104.6c3f95b5.js"><link rel="prefetch" href="/assets/js/105.c2294754.js"><link rel="prefetch" href="/assets/js/106.76f47897.js"><link rel="prefetch" href="/assets/js/107.ec3263e0.js"><link rel="prefetch" href="/assets/js/108.98c4d721.js"><link rel="prefetch" href="/assets/js/109.af2abd13.js"><link rel="prefetch" href="/assets/js/11.86797bf2.js"><link rel="prefetch" href="/assets/js/110.262b5681.js"><link rel="prefetch" href="/assets/js/111.ef351f30.js"><link rel="prefetch" href="/assets/js/112.b3d8ea1a.js"><link rel="prefetch" href="/assets/js/113.c261148b.js"><link rel="prefetch" href="/assets/js/114.6f8580f7.js"><link rel="prefetch" href="/assets/js/115.debfdf0f.js"><link rel="prefetch" href="/assets/js/116.a670a598.js"><link rel="prefetch" href="/assets/js/117.7bf96a9d.js"><link rel="prefetch" href="/assets/js/118.19ece920.js"><link rel="prefetch" href="/assets/js/119.fa620030.js"><link rel="prefetch" href="/assets/js/12.80ce8390.js"><link rel="prefetch" href="/assets/js/120.8aa1465b.js"><link rel="prefetch" href="/assets/js/121.ced888d9.js"><link rel="prefetch" href="/assets/js/122.0781bbc3.js"><link rel="prefetch" href="/assets/js/123.2db161a2.js"><link rel="prefetch" href="/assets/js/124.e6e7e159.js"><link rel="prefetch" href="/assets/js/125.9610908c.js"><link rel="prefetch" href="/assets/js/126.fea778b9.js"><link rel="prefetch" href="/assets/js/127.a21065c4.js"><link rel="prefetch" href="/assets/js/128.2a2370e8.js"><link rel="prefetch" href="/assets/js/129.ba963c69.js"><link rel="prefetch" href="/assets/js/13.3840eec3.js"><link rel="prefetch" href="/assets/js/130.f69d3fe3.js"><link rel="prefetch" href="/assets/js/131.6896248c.js"><link rel="prefetch" href="/assets/js/132.c79c180e.js"><link rel="prefetch" href="/assets/js/133.9fe08a79.js"><link rel="prefetch" href="/assets/js/134.6a061bb6.js"><link rel="prefetch" href="/assets/js/135.c79d6afe.js"><link rel="prefetch" href="/assets/js/136.d871091d.js"><link rel="prefetch" href="/assets/js/137.e0b91b4d.js"><link rel="prefetch" href="/assets/js/138.32579a51.js"><link rel="prefetch" href="/assets/js/139.68e9fdcc.js"><link rel="prefetch" href="/assets/js/14.34bf79a7.js"><link rel="prefetch" href="/assets/js/140.aa950a1f.js"><link rel="prefetch" href="/assets/js/141.8be56664.js"><link rel="prefetch" href="/assets/js/142.72de4237.js"><link rel="prefetch" href="/assets/js/143.87937399.js"><link rel="prefetch" href="/assets/js/144.edac7839.js"><link rel="prefetch" href="/assets/js/145.4e71866a.js"><link rel="prefetch" href="/assets/js/146.6fca896c.js"><link rel="prefetch" href="/assets/js/147.799153d7.js"><link rel="prefetch" href="/assets/js/148.30b3e106.js"><link rel="prefetch" href="/assets/js/149.e3ae4413.js"><link rel="prefetch" href="/assets/js/15.bb809265.js"><link rel="prefetch" href="/assets/js/150.ead8a2d5.js"><link rel="prefetch" href="/assets/js/151.2e1ff05f.js"><link rel="prefetch" href="/assets/js/152.9fbaa1b2.js"><link rel="prefetch" href="/assets/js/153.585d68b5.js"><link rel="prefetch" href="/assets/js/154.8233aee7.js"><link rel="prefetch" href="/assets/js/155.11176ae4.js"><link rel="prefetch" href="/assets/js/156.3be8895e.js"><link rel="prefetch" href="/assets/js/157.1df4cd81.js"><link rel="prefetch" href="/assets/js/158.6c4c329f.js"><link rel="prefetch" href="/assets/js/159.9ffe0ace.js"><link rel="prefetch" href="/assets/js/16.4ac6c181.js"><link rel="prefetch" href="/assets/js/160.36e20496.js"><link rel="prefetch" href="/assets/js/161.e3886297.js"><link rel="prefetch" href="/assets/js/162.d9eb171f.js"><link rel="prefetch" href="/assets/js/163.f3216c5a.js"><link rel="prefetch" href="/assets/js/164.748539d1.js"><link rel="prefetch" href="/assets/js/165.93e6d125.js"><link rel="prefetch" href="/assets/js/166.581859fe.js"><link rel="prefetch" href="/assets/js/167.164bd394.js"><link rel="prefetch" href="/assets/js/168.325c07d0.js"><link rel="prefetch" href="/assets/js/169.32acc821.js"><link rel="prefetch" href="/assets/js/17.e118295d.js"><link rel="prefetch" href="/assets/js/170.194b0401.js"><link rel="prefetch" href="/assets/js/171.1d6b3c4d.js"><link rel="prefetch" href="/assets/js/172.4ab9e3c3.js"><link rel="prefetch" href="/assets/js/173.3cf4d11d.js"><link rel="prefetch" href="/assets/js/174.ae27298a.js"><link rel="prefetch" href="/assets/js/175.bb1921d9.js"><link rel="prefetch" href="/assets/js/176.7c6aebb8.js"><link rel="prefetch" href="/assets/js/177.d22ca4e2.js"><link rel="prefetch" href="/assets/js/178.65151da4.js"><link rel="prefetch" href="/assets/js/179.fe658f6a.js"><link rel="prefetch" href="/assets/js/18.a84b7fce.js"><link rel="prefetch" href="/assets/js/180.84f1c2f1.js"><link rel="prefetch" href="/assets/js/181.99b057f2.js"><link rel="prefetch" href="/assets/js/182.97c18e15.js"><link rel="prefetch" href="/assets/js/183.78032f34.js"><link rel="prefetch" href="/assets/js/184.add566d0.js"><link rel="prefetch" href="/assets/js/185.28d84c3a.js"><link rel="prefetch" href="/assets/js/186.f51a6167.js"><link rel="prefetch" href="/assets/js/187.8f3d017f.js"><link rel="prefetch" href="/assets/js/188.708cac92.js"><link rel="prefetch" href="/assets/js/189.2cfa2af3.js"><link rel="prefetch" href="/assets/js/19.6c73f5d6.js"><link rel="prefetch" href="/assets/js/190.e0d0f1cf.js"><link rel="prefetch" href="/assets/js/191.7d9cf9a0.js"><link rel="prefetch" href="/assets/js/192.fe1061a6.js"><link rel="prefetch" href="/assets/js/193.8d9e6c8b.js"><link rel="prefetch" href="/assets/js/194.3af9727f.js"><link rel="prefetch" href="/assets/js/195.a679d7d8.js"><link rel="prefetch" href="/assets/js/196.99bbf57b.js"><link rel="prefetch" href="/assets/js/197.bb146abd.js"><link rel="prefetch" href="/assets/js/198.08d7717c.js"><link rel="prefetch" href="/assets/js/199.a0b518c7.js"><link rel="prefetch" href="/assets/js/20.d3c70486.js"><link rel="prefetch" href="/assets/js/200.0f4980c4.js"><link rel="prefetch" href="/assets/js/201.318fc627.js"><link rel="prefetch" href="/assets/js/202.83fe5d9e.js"><link rel="prefetch" href="/assets/js/203.e9df9796.js"><link rel="prefetch" href="/assets/js/204.4e3ba7bf.js"><link rel="prefetch" href="/assets/js/205.375153d9.js"><link rel="prefetch" href="/assets/js/206.75076d33.js"><link rel="prefetch" href="/assets/js/207.93093c59.js"><link rel="prefetch" href="/assets/js/208.b7732363.js"><link rel="prefetch" href="/assets/js/209.2defd5da.js"><link rel="prefetch" href="/assets/js/21.4125033d.js"><link rel="prefetch" href="/assets/js/210.60b38965.js"><link rel="prefetch" href="/assets/js/211.353c8150.js"><link rel="prefetch" href="/assets/js/212.dc304b74.js"><link rel="prefetch" href="/assets/js/213.b14a6e90.js"><link rel="prefetch" href="/assets/js/214.944cd365.js"><link rel="prefetch" href="/assets/js/215.58465ea3.js"><link rel="prefetch" href="/assets/js/216.ae21a576.js"><link rel="prefetch" href="/assets/js/217.f9a4dd54.js"><link rel="prefetch" href="/assets/js/218.2271eb73.js"><link rel="prefetch" href="/assets/js/219.39bab525.js"><link rel="prefetch" href="/assets/js/22.4ddb4b14.js"><link rel="prefetch" href="/assets/js/220.b7af0066.js"><link rel="prefetch" href="/assets/js/221.e07b1b2b.js"><link rel="prefetch" href="/assets/js/222.d287457f.js"><link rel="prefetch" href="/assets/js/223.a852fb79.js"><link rel="prefetch" href="/assets/js/224.680978fa.js"><link rel="prefetch" href="/assets/js/225.85a5276b.js"><link rel="prefetch" href="/assets/js/226.3b93b439.js"><link rel="prefetch" href="/assets/js/227.1b2eba06.js"><link rel="prefetch" href="/assets/js/228.9ee81835.js"><link rel="prefetch" href="/assets/js/229.d3a0bab1.js"><link rel="prefetch" href="/assets/js/23.24ee7c98.js"><link rel="prefetch" href="/assets/js/230.84379da1.js"><link rel="prefetch" href="/assets/js/231.ab543608.js"><link rel="prefetch" href="/assets/js/232.087f8759.js"><link rel="prefetch" href="/assets/js/233.04215aaa.js"><link rel="prefetch" href="/assets/js/234.61dd8899.js"><link rel="prefetch" href="/assets/js/235.1c21b18b.js"><link rel="prefetch" href="/assets/js/236.6ffe8a22.js"><link rel="prefetch" href="/assets/js/237.3dac7823.js"><link rel="prefetch" href="/assets/js/238.6f9223ae.js"><link rel="prefetch" href="/assets/js/239.98fd38a7.js"><link rel="prefetch" href="/assets/js/24.f6bed7e9.js"><link rel="prefetch" href="/assets/js/240.10114308.js"><link rel="prefetch" href="/assets/js/241.4297d768.js"><link rel="prefetch" href="/assets/js/242.c799160b.js"><link rel="prefetch" href="/assets/js/243.1b40464d.js"><link rel="prefetch" href="/assets/js/244.7ba094b9.js"><link rel="prefetch" href="/assets/js/245.5f97b1c6.js"><link rel="prefetch" href="/assets/js/246.97bac8b7.js"><link rel="prefetch" href="/assets/js/247.7dd18432.js"><link rel="prefetch" href="/assets/js/248.a568cc25.js"><link rel="prefetch" href="/assets/js/249.aa0e7b23.js"><link rel="prefetch" href="/assets/js/25.97dc7b64.js"><link rel="prefetch" href="/assets/js/250.2986d2ab.js"><link rel="prefetch" href="/assets/js/251.c5f2ce04.js"><link rel="prefetch" href="/assets/js/252.db6d176b.js"><link rel="prefetch" href="/assets/js/253.21005713.js"><link rel="prefetch" href="/assets/js/254.85eddc42.js"><link rel="prefetch" href="/assets/js/255.e36a55f1.js"><link rel="prefetch" href="/assets/js/256.cb2e931d.js"><link rel="prefetch" href="/assets/js/257.8f80bef6.js"><link rel="prefetch" href="/assets/js/258.04a50216.js"><link rel="prefetch" href="/assets/js/259.4c2de993.js"><link rel="prefetch" href="/assets/js/26.7d1bcb40.js"><link rel="prefetch" href="/assets/js/260.9bba242b.js"><link rel="prefetch" href="/assets/js/261.6e354058.js"><link rel="prefetch" href="/assets/js/262.1bea3938.js"><link rel="prefetch" href="/assets/js/263.2ea83aad.js"><link rel="prefetch" href="/assets/js/264.0d5e5054.js"><link rel="prefetch" href="/assets/js/265.df3ae3b1.js"><link rel="prefetch" href="/assets/js/266.9660c835.js"><link rel="prefetch" href="/assets/js/267.5e81e1ca.js"><link rel="prefetch" href="/assets/js/268.91e6995b.js"><link rel="prefetch" href="/assets/js/269.c4101c43.js"><link rel="prefetch" href="/assets/js/27.c0b779e2.js"><link rel="prefetch" href="/assets/js/270.78487e32.js"><link rel="prefetch" href="/assets/js/271.757262e6.js"><link rel="prefetch" href="/assets/js/272.288f62c9.js"><link rel="prefetch" href="/assets/js/273.76cc611a.js"><link rel="prefetch" href="/assets/js/274.2ae4f8b7.js"><link rel="prefetch" href="/assets/js/275.35f6529d.js"><link rel="prefetch" href="/assets/js/276.3d5ec87a.js"><link rel="prefetch" href="/assets/js/277.772889ab.js"><link rel="prefetch" href="/assets/js/278.3493eff1.js"><link rel="prefetch" href="/assets/js/279.02b920d8.js"><link rel="prefetch" href="/assets/js/28.a15294fc.js"><link rel="prefetch" href="/assets/js/280.98b44a7c.js"><link rel="prefetch" href="/assets/js/281.d20b5726.js"><link rel="prefetch" href="/assets/js/282.107c0898.js"><link rel="prefetch" href="/assets/js/283.127dfbbf.js"><link rel="prefetch" href="/assets/js/284.b2326710.js"><link rel="prefetch" href="/assets/js/285.2d3dd83a.js"><link rel="prefetch" href="/assets/js/286.f30490d7.js"><link rel="prefetch" href="/assets/js/287.f324fd6e.js"><link rel="prefetch" href="/assets/js/288.22b40dfa.js"><link rel="prefetch" href="/assets/js/289.1dd813b6.js"><link rel="prefetch" href="/assets/js/29.2b853f87.js"><link rel="prefetch" href="/assets/js/290.90e1bca5.js"><link rel="prefetch" href="/assets/js/291.2bedb6c4.js"><link rel="prefetch" href="/assets/js/292.09ab19b2.js"><link rel="prefetch" href="/assets/js/293.5598320e.js"><link rel="prefetch" href="/assets/js/294.29787c8a.js"><link rel="prefetch" href="/assets/js/295.7eb67bc4.js"><link rel="prefetch" href="/assets/js/296.bb320467.js"><link rel="prefetch" href="/assets/js/297.0d26121a.js"><link rel="prefetch" href="/assets/js/298.6dc9a444.js"><link rel="prefetch" href="/assets/js/299.3ef4ed8e.js"><link rel="prefetch" href="/assets/js/30.858693b1.js"><link rel="prefetch" href="/assets/js/300.fd5b09da.js"><link rel="prefetch" href="/assets/js/301.4871d888.js"><link rel="prefetch" href="/assets/js/302.a9a624a3.js"><link rel="prefetch" href="/assets/js/303.207e37ef.js"><link rel="prefetch" href="/assets/js/304.abddbe62.js"><link rel="prefetch" href="/assets/js/305.812a841f.js"><link rel="prefetch" href="/assets/js/306.eb45b8be.js"><link rel="prefetch" href="/assets/js/307.54289636.js"><link rel="prefetch" href="/assets/js/308.6d0ce507.js"><link rel="prefetch" href="/assets/js/309.4498dde3.js"><link rel="prefetch" href="/assets/js/31.f8aaad7f.js"><link rel="prefetch" href="/assets/js/310.e92d8ab1.js"><link rel="prefetch" href="/assets/js/311.88e474c4.js"><link rel="prefetch" href="/assets/js/312.937f2fe6.js"><link rel="prefetch" href="/assets/js/313.6a205f65.js"><link rel="prefetch" href="/assets/js/314.d8d84a1e.js"><link rel="prefetch" href="/assets/js/315.fb086df2.js"><link rel="prefetch" href="/assets/js/316.722078c5.js"><link rel="prefetch" href="/assets/js/317.062c00a3.js"><link rel="prefetch" href="/assets/js/318.15b4a249.js"><link rel="prefetch" href="/assets/js/319.61665c3d.js"><link rel="prefetch" href="/assets/js/32.46ccc42f.js"><link rel="prefetch" href="/assets/js/320.408eb090.js"><link rel="prefetch" href="/assets/js/321.02825695.js"><link rel="prefetch" href="/assets/js/322.ca28aaef.js"><link rel="prefetch" href="/assets/js/323.f5546bbf.js"><link rel="prefetch" href="/assets/js/324.9888ccab.js"><link rel="prefetch" href="/assets/js/325.46865799.js"><link rel="prefetch" href="/assets/js/326.4768e6e1.js"><link rel="prefetch" href="/assets/js/327.c9f001aa.js"><link rel="prefetch" href="/assets/js/328.40d69536.js"><link rel="prefetch" href="/assets/js/329.cdcdb606.js"><link rel="prefetch" href="/assets/js/33.ed80b339.js"><link rel="prefetch" href="/assets/js/330.cecf2703.js"><link rel="prefetch" href="/assets/js/331.121a24fc.js"><link rel="prefetch" href="/assets/js/332.ce881e9c.js"><link rel="prefetch" href="/assets/js/333.321c2b1c.js"><link rel="prefetch" href="/assets/js/334.d9480292.js"><link rel="prefetch" href="/assets/js/335.b7e79f11.js"><link rel="prefetch" href="/assets/js/336.f5fd4bcb.js"><link rel="prefetch" href="/assets/js/337.5a0b1f1c.js"><link rel="prefetch" href="/assets/js/338.2afa9b8b.js"><link rel="prefetch" href="/assets/js/339.27879b8e.js"><link rel="prefetch" href="/assets/js/34.a988e14d.js"><link rel="prefetch" href="/assets/js/340.cde3bf8b.js"><link rel="prefetch" href="/assets/js/341.1fd2ff2c.js"><link rel="prefetch" href="/assets/js/342.9609aba0.js"><link rel="prefetch" href="/assets/js/343.472a23bf.js"><link rel="prefetch" href="/assets/js/344.4e1b8d7c.js"><link rel="prefetch" href="/assets/js/345.4965c9f9.js"><link rel="prefetch" href="/assets/js/346.beb81114.js"><link rel="prefetch" href="/assets/js/347.69f15b2f.js"><link rel="prefetch" href="/assets/js/348.c1c1e984.js"><link rel="prefetch" href="/assets/js/349.7046dc76.js"><link rel="prefetch" href="/assets/js/35.c0c93707.js"><link rel="prefetch" href="/assets/js/350.758e42e0.js"><link rel="prefetch" href="/assets/js/351.9794b3bc.js"><link rel="prefetch" href="/assets/js/352.259e7adc.js"><link rel="prefetch" href="/assets/js/353.98ff127a.js"><link rel="prefetch" href="/assets/js/354.8aa06d0a.js"><link rel="prefetch" href="/assets/js/355.2e1cca90.js"><link rel="prefetch" href="/assets/js/356.efd7af8d.js"><link rel="prefetch" href="/assets/js/357.cc8d48de.js"><link rel="prefetch" href="/assets/js/358.ba33a41f.js"><link rel="prefetch" href="/assets/js/359.4f00bb74.js"><link rel="prefetch" href="/assets/js/36.df4aefe5.js"><link rel="prefetch" href="/assets/js/360.2990b962.js"><link rel="prefetch" href="/assets/js/361.69bbd44e.js"><link rel="prefetch" href="/assets/js/362.f7e2a6ff.js"><link rel="prefetch" href="/assets/js/363.888b90ad.js"><link rel="prefetch" href="/assets/js/364.964def69.js"><link rel="prefetch" href="/assets/js/365.6a8040e7.js"><link rel="prefetch" href="/assets/js/366.7af3d346.js"><link rel="prefetch" href="/assets/js/367.f5a50260.js"><link rel="prefetch" href="/assets/js/368.b2aa9af3.js"><link rel="prefetch" href="/assets/js/369.bf420859.js"><link rel="prefetch" href="/assets/js/37.1fc815db.js"><link rel="prefetch" href="/assets/js/370.4fbffec9.js"><link rel="prefetch" href="/assets/js/371.5d330f8e.js"><link rel="prefetch" href="/assets/js/372.1a3be190.js"><link rel="prefetch" href="/assets/js/373.6ce91266.js"><link rel="prefetch" href="/assets/js/374.09143a5d.js"><link rel="prefetch" href="/assets/js/375.84b0f8c6.js"><link rel="prefetch" href="/assets/js/377.ecfa6ed8.js"><link rel="prefetch" href="/assets/js/378.5b2c2abe.js"><link rel="prefetch" href="/assets/js/379.f89d2956.js"><link rel="prefetch" href="/assets/js/38.392ece97.js"><link rel="prefetch" href="/assets/js/380.7e5aaafd.js"><link rel="prefetch" href="/assets/js/381.51373e1d.js"><link rel="prefetch" href="/assets/js/382.5d4c314a.js"><link rel="prefetch" href="/assets/js/383.abe373ef.js"><link rel="prefetch" href="/assets/js/384.cc5df028.js"><link rel="prefetch" href="/assets/js/385.1ba23bc0.js"><link rel="prefetch" href="/assets/js/386.d543f2af.js"><link rel="prefetch" href="/assets/js/387.63d447b9.js"><link rel="prefetch" href="/assets/js/388.de59f79f.js"><link rel="prefetch" href="/assets/js/389.a5691f67.js"><link rel="prefetch" href="/assets/js/39.895e04ef.js"><link rel="prefetch" href="/assets/js/390.15396ada.js"><link rel="prefetch" href="/assets/js/391.1cb13fbf.js"><link rel="prefetch" href="/assets/js/392.0c57118a.js"><link rel="prefetch" href="/assets/js/393.49ffc7bc.js"><link rel="prefetch" href="/assets/js/394.a3ac143a.js"><link rel="prefetch" href="/assets/js/395.fdaf5206.js"><link rel="prefetch" href="/assets/js/396.f00ca242.js"><link rel="prefetch" href="/assets/js/397.3ca15bdd.js"><link rel="prefetch" href="/assets/js/398.ebaf38c9.js"><link rel="prefetch" href="/assets/js/399.cdd6e1b6.js"><link rel="prefetch" href="/assets/js/4.90f0e3a2.js"><link rel="prefetch" href="/assets/js/40.7db64dda.js"><link rel="prefetch" href="/assets/js/400.1f179d6b.js"><link rel="prefetch" href="/assets/js/401.bfee7849.js"><link rel="prefetch" href="/assets/js/402.79ffcebd.js"><link rel="prefetch" href="/assets/js/403.d1cf417d.js"><link rel="prefetch" href="/assets/js/404.481dd8f8.js"><link rel="prefetch" href="/assets/js/405.7e4b9382.js"><link rel="prefetch" href="/assets/js/406.ec02bd69.js"><link rel="prefetch" href="/assets/js/407.6727c32f.js"><link rel="prefetch" href="/assets/js/408.1763fe14.js"><link rel="prefetch" href="/assets/js/409.9326aa80.js"><link rel="prefetch" href="/assets/js/41.62969023.js"><link rel="prefetch" href="/assets/js/410.bcb53acf.js"><link rel="prefetch" href="/assets/js/411.59b0bdd7.js"><link rel="prefetch" href="/assets/js/412.e2c270c8.js"><link rel="prefetch" href="/assets/js/413.e34bb7b7.js"><link rel="prefetch" href="/assets/js/414.4b7ef154.js"><link rel="prefetch" href="/assets/js/415.626d4c5d.js"><link rel="prefetch" href="/assets/js/416.b438fb55.js"><link rel="prefetch" href="/assets/js/417.7680c2f0.js"><link rel="prefetch" href="/assets/js/418.5c014894.js"><link rel="prefetch" href="/assets/js/419.68a5b7aa.js"><link rel="prefetch" href="/assets/js/42.a2e0228d.js"><link rel="prefetch" href="/assets/js/420.c61f92c2.js"><link rel="prefetch" href="/assets/js/421.d7ba78e4.js"><link rel="prefetch" href="/assets/js/422.cf276bf9.js"><link rel="prefetch" href="/assets/js/423.49c44df6.js"><link rel="prefetch" href="/assets/js/424.dd94a7f6.js"><link rel="prefetch" href="/assets/js/425.3119ae93.js"><link rel="prefetch" href="/assets/js/426.428c588f.js"><link rel="prefetch" href="/assets/js/427.d81f04b2.js"><link rel="prefetch" href="/assets/js/428.46dfa4a1.js"><link rel="prefetch" href="/assets/js/429.81737bff.js"><link rel="prefetch" href="/assets/js/43.05057907.js"><link rel="prefetch" href="/assets/js/430.b96d091e.js"><link rel="prefetch" href="/assets/js/431.5dd64f4d.js"><link rel="prefetch" href="/assets/js/432.9f35a486.js"><link rel="prefetch" href="/assets/js/433.4ec5696e.js"><link rel="prefetch" href="/assets/js/434.4154ba07.js"><link rel="prefetch" href="/assets/js/435.f1ac57c7.js"><link rel="prefetch" href="/assets/js/436.758c3270.js"><link rel="prefetch" href="/assets/js/437.2b7bf8f8.js"><link rel="prefetch" href="/assets/js/438.2b71a43e.js"><link rel="prefetch" href="/assets/js/439.d97e9ba6.js"><link rel="prefetch" href="/assets/js/44.a3d6fefd.js"><link rel="prefetch" href="/assets/js/440.0fa38e1a.js"><link rel="prefetch" href="/assets/js/441.bbe3848a.js"><link rel="prefetch" href="/assets/js/442.7e3c30bc.js"><link rel="prefetch" href="/assets/js/443.6c279f4c.js"><link rel="prefetch" href="/assets/js/444.87b6aa50.js"><link rel="prefetch" href="/assets/js/445.8a809f0c.js"><link rel="prefetch" href="/assets/js/446.2f70f3e5.js"><link rel="prefetch" href="/assets/js/447.1dc9c1e4.js"><link rel="prefetch" href="/assets/js/448.fb36cb2d.js"><link rel="prefetch" href="/assets/js/449.fd7e9126.js"><link rel="prefetch" href="/assets/js/45.18da5b82.js"><link rel="prefetch" href="/assets/js/450.cc0154ff.js"><link rel="prefetch" href="/assets/js/451.ee538c82.js"><link rel="prefetch" href="/assets/js/452.fb4d8af7.js"><link rel="prefetch" href="/assets/js/453.24147a69.js"><link rel="prefetch" href="/assets/js/454.87926d62.js"><link rel="prefetch" href="/assets/js/455.dbc9bfba.js"><link rel="prefetch" href="/assets/js/456.ff41715c.js"><link rel="prefetch" href="/assets/js/457.6bbff8ad.js"><link rel="prefetch" href="/assets/js/458.9c8f4b0a.js"><link rel="prefetch" href="/assets/js/459.1948483e.js"><link rel="prefetch" href="/assets/js/46.1b25e4a6.js"><link rel="prefetch" href="/assets/js/460.6594dc88.js"><link rel="prefetch" href="/assets/js/461.b6e27a48.js"><link rel="prefetch" href="/assets/js/462.8b965779.js"><link rel="prefetch" href="/assets/js/463.202ab490.js"><link rel="prefetch" href="/assets/js/464.d1646bfd.js"><link rel="prefetch" href="/assets/js/465.c7994ca7.js"><link rel="prefetch" href="/assets/js/466.619981c1.js"><link rel="prefetch" href="/assets/js/467.a519792a.js"><link rel="prefetch" href="/assets/js/468.49f616c7.js"><link rel="prefetch" href="/assets/js/469.b7665dc9.js"><link rel="prefetch" href="/assets/js/47.2ba64854.js"><link rel="prefetch" href="/assets/js/470.65a01f9a.js"><link rel="prefetch" href="/assets/js/471.0fe84a16.js"><link rel="prefetch" href="/assets/js/472.7da588b7.js"><link rel="prefetch" href="/assets/js/473.f5478cf7.js"><link rel="prefetch" href="/assets/js/474.a35cd2c9.js"><link rel="prefetch" href="/assets/js/475.33107a7a.js"><link rel="prefetch" href="/assets/js/476.1f53682a.js"><link rel="prefetch" href="/assets/js/477.9283442e.js"><link rel="prefetch" href="/assets/js/478.e6864c32.js"><link rel="prefetch" href="/assets/js/479.c891c5d6.js"><link rel="prefetch" href="/assets/js/48.40498774.js"><link rel="prefetch" href="/assets/js/480.ec412421.js"><link rel="prefetch" href="/assets/js/481.5893b1f4.js"><link rel="prefetch" href="/assets/js/482.d40792bb.js"><link rel="prefetch" href="/assets/js/483.1329ba9a.js"><link rel="prefetch" href="/assets/js/484.cf66c2a6.js"><link rel="prefetch" href="/assets/js/485.62aa97d7.js"><link rel="prefetch" href="/assets/js/486.984b618f.js"><link rel="prefetch" href="/assets/js/487.6bc38dc3.js"><link rel="prefetch" href="/assets/js/488.1ba66f27.js"><link rel="prefetch" href="/assets/js/489.8dc09109.js"><link rel="prefetch" href="/assets/js/49.f172a7be.js"><link rel="prefetch" href="/assets/js/490.09820706.js"><link rel="prefetch" href="/assets/js/491.0486b3d2.js"><link rel="prefetch" href="/assets/js/492.77c929cc.js"><link rel="prefetch" href="/assets/js/493.de0aec4e.js"><link rel="prefetch" href="/assets/js/494.020d16af.js"><link rel="prefetch" href="/assets/js/495.924e39fd.js"><link rel="prefetch" href="/assets/js/496.8a775f32.js"><link rel="prefetch" href="/assets/js/497.ea6d2f15.js"><link rel="prefetch" href="/assets/js/498.ed777267.js"><link rel="prefetch" href="/assets/js/499.c3bfc923.js"><link rel="prefetch" href="/assets/js/5.f3ba9a05.js"><link rel="prefetch" href="/assets/js/50.c58844ba.js"><link rel="prefetch" href="/assets/js/500.f0c63215.js"><link rel="prefetch" href="/assets/js/501.8ad5f329.js"><link rel="prefetch" href="/assets/js/502.4038edb8.js"><link rel="prefetch" href="/assets/js/503.22ab50cf.js"><link rel="prefetch" href="/assets/js/504.ab19515f.js"><link rel="prefetch" href="/assets/js/505.8235425a.js"><link rel="prefetch" href="/assets/js/506.7faa972b.js"><link rel="prefetch" href="/assets/js/507.4131ea80.js"><link rel="prefetch" href="/assets/js/508.479c6035.js"><link rel="prefetch" href="/assets/js/509.9ffece5c.js"><link rel="prefetch" href="/assets/js/51.e8afd6fe.js"><link rel="prefetch" href="/assets/js/510.8a6240f9.js"><link rel="prefetch" href="/assets/js/511.d63fe172.js"><link rel="prefetch" href="/assets/js/512.4f3f99bd.js"><link rel="prefetch" href="/assets/js/513.d456cf0f.js"><link rel="prefetch" href="/assets/js/514.c0b43d6a.js"><link rel="prefetch" href="/assets/js/515.0232f4dc.js"><link rel="prefetch" href="/assets/js/516.61d8d752.js"><link rel="prefetch" href="/assets/js/517.da3e8c23.js"><link rel="prefetch" href="/assets/js/518.e9f93875.js"><link rel="prefetch" href="/assets/js/519.e312083e.js"><link rel="prefetch" href="/assets/js/52.b953ecde.js"><link rel="prefetch" href="/assets/js/520.dbcc967a.js"><link rel="prefetch" href="/assets/js/521.1b4b249b.js"><link rel="prefetch" href="/assets/js/522.619a347f.js"><link rel="prefetch" href="/assets/js/523.fc574f73.js"><link rel="prefetch" href="/assets/js/524.c4288a01.js"><link rel="prefetch" href="/assets/js/525.a3075bef.js"><link rel="prefetch" href="/assets/js/526.0299b224.js"><link rel="prefetch" href="/assets/js/527.668bb632.js"><link rel="prefetch" href="/assets/js/528.07d4d6bf.js"><link rel="prefetch" href="/assets/js/529.478fcbda.js"><link rel="prefetch" href="/assets/js/53.06d8e721.js"><link rel="prefetch" href="/assets/js/530.9e6a9cf7.js"><link rel="prefetch" href="/assets/js/531.1e2d8327.js"><link rel="prefetch" href="/assets/js/532.cd512e43.js"><link rel="prefetch" href="/assets/js/533.9e61cc6d.js"><link rel="prefetch" href="/assets/js/534.347a6c2d.js"><link rel="prefetch" href="/assets/js/535.2f3e8074.js"><link rel="prefetch" href="/assets/js/536.7d0430a9.js"><link rel="prefetch" href="/assets/js/537.43929ec2.js"><link rel="prefetch" href="/assets/js/538.6e601e2a.js"><link rel="prefetch" href="/assets/js/539.6bfd04fd.js"><link rel="prefetch" href="/assets/js/54.3d83b556.js"><link rel="prefetch" href="/assets/js/540.11334730.js"><link rel="prefetch" href="/assets/js/541.303c5682.js"><link rel="prefetch" href="/assets/js/542.5146ee69.js"><link rel="prefetch" href="/assets/js/543.44fdab3c.js"><link rel="prefetch" href="/assets/js/544.0b98e978.js"><link rel="prefetch" href="/assets/js/545.bd2dfd40.js"><link rel="prefetch" href="/assets/js/546.4629c9ad.js"><link rel="prefetch" href="/assets/js/547.75751145.js"><link rel="prefetch" href="/assets/js/548.7f196c93.js"><link rel="prefetch" href="/assets/js/549.0a715006.js"><link rel="prefetch" href="/assets/js/55.b68e9c15.js"><link rel="prefetch" href="/assets/js/550.9613ec88.js"><link rel="prefetch" href="/assets/js/551.09682be4.js"><link rel="prefetch" href="/assets/js/552.feb7432b.js"><link rel="prefetch" href="/assets/js/553.2fdd9960.js"><link rel="prefetch" href="/assets/js/554.86fa41e2.js"><link rel="prefetch" href="/assets/js/555.9b9fa544.js"><link rel="prefetch" href="/assets/js/556.ad464c37.js"><link rel="prefetch" href="/assets/js/557.b1cae7b7.js"><link rel="prefetch" href="/assets/js/558.af40dfad.js"><link rel="prefetch" href="/assets/js/559.40b768f3.js"><link rel="prefetch" href="/assets/js/56.3855ee44.js"><link rel="prefetch" href="/assets/js/560.6cee0958.js"><link rel="prefetch" href="/assets/js/561.b587679d.js"><link rel="prefetch" href="/assets/js/562.2289f530.js"><link rel="prefetch" href="/assets/js/563.59a1d1a0.js"><link rel="prefetch" href="/assets/js/564.10ca6e37.js"><link rel="prefetch" href="/assets/js/565.7956c988.js"><link rel="prefetch" href="/assets/js/566.d34e9560.js"><link rel="prefetch" href="/assets/js/567.d7453f4d.js"><link rel="prefetch" href="/assets/js/568.4ff6e415.js"><link rel="prefetch" href="/assets/js/569.5bc8e756.js"><link rel="prefetch" href="/assets/js/57.878afab9.js"><link rel="prefetch" href="/assets/js/570.d3088811.js"><link rel="prefetch" href="/assets/js/571.961f2b33.js"><link rel="prefetch" href="/assets/js/572.8859a3b3.js"><link rel="prefetch" href="/assets/js/573.faa2eaa7.js"><link rel="prefetch" href="/assets/js/574.8a989e8e.js"><link rel="prefetch" href="/assets/js/575.ed39a7ca.js"><link rel="prefetch" href="/assets/js/576.b68b2c8c.js"><link rel="prefetch" href="/assets/js/577.38daa107.js"><link rel="prefetch" href="/assets/js/578.c5562b20.js"><link rel="prefetch" href="/assets/js/579.7f91fcf9.js"><link rel="prefetch" href="/assets/js/58.5b04aa8b.js"><link rel="prefetch" href="/assets/js/580.4c408500.js"><link rel="prefetch" href="/assets/js/581.255ec1f7.js"><link rel="prefetch" href="/assets/js/582.4de72340.js"><link rel="prefetch" href="/assets/js/583.cd7e3874.js"><link rel="prefetch" href="/assets/js/584.3ac14a80.js"><link rel="prefetch" href="/assets/js/585.a4cddbb3.js"><link rel="prefetch" href="/assets/js/586.d5290caa.js"><link rel="prefetch" href="/assets/js/587.67f0832e.js"><link rel="prefetch" href="/assets/js/588.dc081f31.js"><link rel="prefetch" href="/assets/js/589.44801c6d.js"><link rel="prefetch" href="/assets/js/59.3e8a3f57.js"><link rel="prefetch" href="/assets/js/590.26c133f1.js"><link rel="prefetch" href="/assets/js/591.5ae9d711.js"><link rel="prefetch" href="/assets/js/592.853a1b81.js"><link rel="prefetch" href="/assets/js/593.5b78bd05.js"><link rel="prefetch" href="/assets/js/594.a1f96237.js"><link rel="prefetch" href="/assets/js/595.0a8c6cf3.js"><link rel="prefetch" href="/assets/js/596.6c0fcb34.js"><link rel="prefetch" href="/assets/js/597.fa01eb36.js"><link rel="prefetch" href="/assets/js/598.0567a578.js"><link rel="prefetch" href="/assets/js/599.efd6c153.js"><link rel="prefetch" href="/assets/js/6.fc5cd30f.js"><link rel="prefetch" href="/assets/js/60.2896de5f.js"><link rel="prefetch" href="/assets/js/600.e0951846.js"><link rel="prefetch" href="/assets/js/601.ae1f25db.js"><link rel="prefetch" href="/assets/js/602.0ae87330.js"><link rel="prefetch" href="/assets/js/603.c04995e2.js"><link rel="prefetch" href="/assets/js/604.9376a005.js"><link rel="prefetch" href="/assets/js/605.687b330b.js"><link rel="prefetch" href="/assets/js/606.1c6ec9db.js"><link rel="prefetch" href="/assets/js/607.87f2c17c.js"><link rel="prefetch" href="/assets/js/608.cc5e929f.js"><link rel="prefetch" href="/assets/js/609.44ff10d1.js"><link rel="prefetch" href="/assets/js/61.8817be93.js"><link rel="prefetch" href="/assets/js/610.95b574a9.js"><link rel="prefetch" href="/assets/js/611.414a8a6f.js"><link rel="prefetch" href="/assets/js/612.584fdf90.js"><link rel="prefetch" href="/assets/js/613.170ee143.js"><link rel="prefetch" href="/assets/js/614.601eae9f.js"><link rel="prefetch" href="/assets/js/615.70ec6ff2.js"><link rel="prefetch" href="/assets/js/616.b09123b6.js"><link rel="prefetch" href="/assets/js/617.cafc4472.js"><link rel="prefetch" href="/assets/js/618.a2b5b826.js"><link rel="prefetch" href="/assets/js/619.cf82bb00.js"><link rel="prefetch" href="/assets/js/62.bb1f5bcf.js"><link rel="prefetch" href="/assets/js/620.8532681d.js"><link rel="prefetch" href="/assets/js/621.e28ee19b.js"><link rel="prefetch" href="/assets/js/622.f2e214b7.js"><link rel="prefetch" href="/assets/js/623.567de322.js"><link rel="prefetch" href="/assets/js/624.8009233f.js"><link rel="prefetch" href="/assets/js/625.2b10e36e.js"><link rel="prefetch" href="/assets/js/626.190c7b9a.js"><link rel="prefetch" href="/assets/js/627.02477337.js"><link rel="prefetch" href="/assets/js/628.4d43a66f.js"><link rel="prefetch" href="/assets/js/629.68710c42.js"><link rel="prefetch" href="/assets/js/63.5a19f579.js"><link rel="prefetch" href="/assets/js/630.9e11f786.js"><link rel="prefetch" href="/assets/js/631.f4419970.js"><link rel="prefetch" href="/assets/js/632.472ae299.js"><link rel="prefetch" href="/assets/js/633.ca737ef5.js"><link rel="prefetch" href="/assets/js/634.0b2069f0.js"><link rel="prefetch" href="/assets/js/635.7cf2adaf.js"><link rel="prefetch" href="/assets/js/636.0be4d73b.js"><link rel="prefetch" href="/assets/js/637.e76f6126.js"><link rel="prefetch" href="/assets/js/638.72a5c7ac.js"><link rel="prefetch" href="/assets/js/639.acd0cefd.js"><link rel="prefetch" href="/assets/js/64.97d65ed2.js"><link rel="prefetch" href="/assets/js/640.d2fb4f6e.js"><link rel="prefetch" href="/assets/js/641.ca09f541.js"><link rel="prefetch" href="/assets/js/642.a278857c.js"><link rel="prefetch" href="/assets/js/643.0976a3b8.js"><link rel="prefetch" href="/assets/js/644.82ffa349.js"><link rel="prefetch" href="/assets/js/645.26359e5c.js"><link rel="prefetch" href="/assets/js/646.5edafe08.js"><link rel="prefetch" href="/assets/js/647.6e071152.js"><link rel="prefetch" href="/assets/js/648.9f2cc0ba.js"><link rel="prefetch" href="/assets/js/649.997fdda1.js"><link rel="prefetch" href="/assets/js/65.142b5f79.js"><link rel="prefetch" href="/assets/js/650.70728bd1.js"><link rel="prefetch" href="/assets/js/651.89391596.js"><link rel="prefetch" href="/assets/js/652.af5d225a.js"><link rel="prefetch" href="/assets/js/653.8d6008e7.js"><link rel="prefetch" href="/assets/js/654.3be12aaa.js"><link rel="prefetch" href="/assets/js/655.5a278112.js"><link rel="prefetch" href="/assets/js/656.a7cf0087.js"><link rel="prefetch" href="/assets/js/657.37ba86cd.js"><link rel="prefetch" href="/assets/js/658.2131f277.js"><link rel="prefetch" href="/assets/js/659.a1434411.js"><link rel="prefetch" href="/assets/js/66.8e9bf5f0.js"><link rel="prefetch" href="/assets/js/660.e7d3a7e6.js"><link rel="prefetch" href="/assets/js/661.abdfce04.js"><link rel="prefetch" href="/assets/js/662.13c3c5f6.js"><link rel="prefetch" href="/assets/js/663.4e12ff31.js"><link rel="prefetch" href="/assets/js/664.f579ba7e.js"><link rel="prefetch" href="/assets/js/665.52988031.js"><link rel="prefetch" href="/assets/js/666.5e5b85ad.js"><link rel="prefetch" href="/assets/js/667.1693e964.js"><link rel="prefetch" href="/assets/js/668.d5f35033.js"><link rel="prefetch" href="/assets/js/669.77cb831c.js"><link rel="prefetch" href="/assets/js/67.93d0bf67.js"><link rel="prefetch" href="/assets/js/670.9993a0b0.js"><link rel="prefetch" href="/assets/js/671.a518db67.js"><link rel="prefetch" href="/assets/js/672.bfed23d4.js"><link rel="prefetch" href="/assets/js/673.49ac20cf.js"><link rel="prefetch" href="/assets/js/674.b7d98140.js"><link rel="prefetch" href="/assets/js/675.4de494aa.js"><link rel="prefetch" href="/assets/js/676.77e0c240.js"><link rel="prefetch" href="/assets/js/677.7c1f31c0.js"><link rel="prefetch" href="/assets/js/678.6c842013.js"><link rel="prefetch" href="/assets/js/679.bd5da571.js"><link rel="prefetch" href="/assets/js/68.d8933194.js"><link rel="prefetch" href="/assets/js/680.d67b26d2.js"><link rel="prefetch" href="/assets/js/681.d1f68e56.js"><link rel="prefetch" href="/assets/js/682.26137b28.js"><link rel="prefetch" href="/assets/js/683.164817ac.js"><link rel="prefetch" href="/assets/js/684.8786f84d.js"><link rel="prefetch" href="/assets/js/685.ea71ea47.js"><link rel="prefetch" href="/assets/js/686.b6c2688f.js"><link rel="prefetch" href="/assets/js/687.ff02fffb.js"><link rel="prefetch" href="/assets/js/688.95563b58.js"><link rel="prefetch" href="/assets/js/689.177df80d.js"><link rel="prefetch" href="/assets/js/69.5d1a6c35.js"><link rel="prefetch" href="/assets/js/690.0bcc5db0.js"><link rel="prefetch" href="/assets/js/691.26a303c0.js"><link rel="prefetch" href="/assets/js/692.99eaa6ab.js"><link rel="prefetch" href="/assets/js/7.7b9ca341.js"><link rel="prefetch" href="/assets/js/70.469adc8e.js"><link rel="prefetch" href="/assets/js/71.832028e4.js"><link rel="prefetch" href="/assets/js/72.e1105e61.js"><link rel="prefetch" href="/assets/js/73.9833a633.js"><link rel="prefetch" href="/assets/js/74.a5e0e9cf.js"><link rel="prefetch" href="/assets/js/75.a9fd093d.js"><link rel="prefetch" href="/assets/js/76.9dfa7f17.js"><link rel="prefetch" href="/assets/js/77.a42b2998.js"><link rel="prefetch" href="/assets/js/78.53e87a09.js"><link rel="prefetch" href="/assets/js/79.d3a7d78b.js"><link rel="prefetch" href="/assets/js/8.0d535369.js"><link rel="prefetch" href="/assets/js/80.bd899ad3.js"><link rel="prefetch" href="/assets/js/81.4cc20e2a.js"><link rel="prefetch" href="/assets/js/82.bcd91e51.js"><link rel="prefetch" href="/assets/js/83.d5b768ea.js"><link rel="prefetch" href="/assets/js/84.231df5bc.js"><link rel="prefetch" href="/assets/js/85.3e57a10e.js"><link rel="prefetch" href="/assets/js/86.9fb280fc.js"><link rel="prefetch" href="/assets/js/87.d87c06f4.js"><link rel="prefetch" href="/assets/js/88.d386d954.js"><link rel="prefetch" href="/assets/js/89.351e2fc4.js"><link rel="prefetch" href="/assets/js/9.af7d6d2c.js"><link rel="prefetch" href="/assets/js/90.10d17399.js"><link rel="prefetch" href="/assets/js/91.5bd19d91.js"><link rel="prefetch" href="/assets/js/92.957be56f.js"><link rel="prefetch" href="/assets/js/93.8f1e0819.js"><link rel="prefetch" href="/assets/js/94.92f25f79.js"><link rel="prefetch" href="/assets/js/95.17b4bec7.js"><link rel="prefetch" href="/assets/js/96.41d1eb5c.js"><link rel="prefetch" href="/assets/js/97.f2cb5fc3.js"><link rel="prefetch" href="/assets/js/98.09f1472c.js"><link rel="prefetch" href="/assets/js/99.7ff67f64.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e78d7987.js">
    <link rel="stylesheet" href="/assets/css/0.styles.02d1ffad.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh-CN/" class="home-link router-link-active"><!----> <span class="site-name">QueryPHP</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发文档" class="dropdown-title"><span class="title">开发文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh-CN/docs/" class="nav-link router-link-active">
  前言
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/started/" class="nav-link">
  入门
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/guide/" class="nav-link">
  指南
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/architecture/" class="nav-link">
  架构
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/router/" class="nav-link router-link-active">
  路由
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/template/" class="nav-link">
  模板
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/database/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/orm/" class="nav-link">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/validate/" class="nav-link">
  验证器
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/protocol/coroutine.html" class="nav-link">
  Swoole
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/component/support/str.html" class="nav-link">
  组件
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/test/" class="nav-link">
  测试
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/developer/" class="nav-link">
  开发者
</a></li></ul></div></div><div class="nav-item"><a href="/zh-CN/ecosystem/" class="nav-link">
  社区
</a></div><div class="nav-item"><a href="/zh-CN/about/" class="nav-link">
  关于我们
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/router/response.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/router/response.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/zh-TW/docs/router/response.html" class="nav-link">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/hunzhiwange/queryphp.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发文档" class="dropdown-title"><span class="title">开发文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh-CN/docs/" class="nav-link router-link-active">
  前言
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/started/" class="nav-link">
  入门
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/guide/" class="nav-link">
  指南
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/architecture/" class="nav-link">
  架构
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/router/" class="nav-link router-link-active">
  路由
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/template/" class="nav-link">
  模板
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/database/" class="nav-link">
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/orm/" class="nav-link">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/validate/" class="nav-link">
  验证器
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/protocol/coroutine.html" class="nav-link">
  Swoole
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/component/support/str.html" class="nav-link">
  组件
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/test/" class="nav-link">
  测试
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/developer/" class="nav-link">
  开发者
</a></li></ul></div></div><div class="nav-item"><a href="/zh-CN/ecosystem/" class="nav-link">
  社区
</a></div><div class="nav-item"><a href="/zh-CN/about/" class="nav-link">
  关于我们
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/router/response.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/router/response.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/zh-TW/docs/router/response.html" class="nav-link">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/hunzhiwange/queryphp.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>路由</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh-CN/docs/router/" aria-current="page" class="sidebar-link">概述</a></li><li><a href="/zh-CN/docs/router/router.html" class="sidebar-link">Router</a></li><li><a href="/zh-CN/docs/router/url.html" class="sidebar-link">URL 生成</a></li><li><a href="/zh-CN/docs/router/response.html" aria-current="page" class="active sidebar-link">路由响应</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#make-返回一个响应" class="sidebar-link">make 返回一个响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#view-返回视图响应" class="sidebar-link">view 返回视图响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#view-返回视图响应支持自定义后缀" class="sidebar-link">view 返回视图响应支持自定义后缀</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#view-返回视图成功消息" class="sidebar-link">view 返回视图成功消息</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#setviewsuccesstemplate-返回视图成功消息支持设置视图正确模板" class="sidebar-link">setViewSuccessTemplate 返回视图成功消息支持设置视图正确模板</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#view-返回视图失败消息" class="sidebar-link">view 返回视图失败消息</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#setviewfailtemplate-返回视图失败消息支持设置视图错误模板" class="sidebar-link">setViewFailTemplate 返回视图失败消息支持设置视图错误模板</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#json-返回-json-响应" class="sidebar-link">json 返回 JSON 响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#json-返回-json-响应支持数组" class="sidebar-link">json 返回 JSON 响应支持数组</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#json-返回-json-响应支持原生-json-字符串" class="sidebar-link">json 返回 JSON 响应支持原生 JSON 字符串</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#jsonp-返回-jsonp-响应" class="sidebar-link">jsonp 返回 JSONP 响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#download-返回下载响应" class="sidebar-link">download 返回下载响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#download-返回下载响应支持-splfileinfo" class="sidebar-link">download 返回下载响应支持 \SplFileInfo</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#download-返回下载响应支持-splfileobject" class="sidebar-link">download 返回下载响应支持 \SplFileObject</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#download-返回下载响应支持自定义文件名" class="sidebar-link">download 返回下载响应支持自定义文件名</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#file-返回文件响应" class="sidebar-link">file 返回文件响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#file-返回文件响应支持-splfileinfo" class="sidebar-link">file 返回文件响应支持 \SplFileInfo</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#file-返回文件响应支持-splfileobject" class="sidebar-link">file 返回文件响应支持 \SplFileObject</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#redirect-返回一个-url-生成跳转响应" class="sidebar-link">redirect 返回一个 URL 生成跳转响应</a></li><li class="sidebar-sub-header"><a href="/zh-CN/docs/router/response.html#redirectraw-返回一个跳转响应" class="sidebar-link">redirectRaw 返回一个跳转响应</a></li></ul></li><li><a href="/zh-CN/docs/router/annotation.html" class="sidebar-link">注解路由</a></li><li><a href="/zh-CN/docs/router/provider.html" class="sidebar-link">路由服务提供者</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="路由响应"><a href="#路由响应" class="header-anchor">#</a> 路由响应</h1> <div class="custom-block tip"><p class="custom-block-title">Testing Is Documentation</p> <p><a href="https://github.com/hunzhiwange/framework/blob/master/tests/Router/ResponseTest.php" target="_blank" rel="noopener noreferrer">tests/Router/ResponseTest.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p>QueryPHP 路由响应封装了常用的响应，比如模板、JSON、文件下载、URL 重定向等。</p> <p>使用容器 response 服务</p> <div class="language-php extra-class"><pre class="language-php"><code>\<span class="token package">App</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'response'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">,</span> int <span class="token variable">$status</span> <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token keyword">array</span> <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> bool <span class="token variable">$json</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span><span class="token punctuation">:</span> \<span class="token package">Leevel<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>JsonResponse</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Uses</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Di<span class="token punctuation">\</span>Container</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Di<span class="token punctuation">\</span>IContainer</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>JsonResponse</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>RedirectResponse</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Kernel<span class="token punctuation">\</span>App</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Option<span class="token punctuation">\</span>Option</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Router<span class="token punctuation">\</span>Redirect</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Router<span class="token punctuation">\</span>Response</span> <span class="token keyword">as</span> RouterResponse<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Router<span class="token punctuation">\</span>Url</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>View<span class="token punctuation">\</span>IView</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>View<span class="token punctuation">\</span>Manager</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">SplFileInfo</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">SplFileObject</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpFoundation<span class="token punctuation">\</span>BinaryFileResponse</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>HttpFoundation<span class="token punctuation">\</span>Response</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testBaseUse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$headers</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'cache-control'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'no-cache, private'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="make-返回一个响应"><a href="#make-返回一个响应" class="header-anchor">#</a> make 返回一个响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testMake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo.bar'</span><span class="token punctuation">,</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo.bar'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="view-返回视图响应"><a href="#view-返回视图响应" class="header-anchor">#</a> view 返回视图响应</h2> <p><strong>fixture 定义</strong></p> <p><strong>tests/Router/assert/view1.php</strong></p> <div class="language-php extra-class"><pre class="language-php"><code>hello view1 for <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$foo</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>.
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'view1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello view1 for bar.'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="view-返回视图响应支持自定义后缀"><a href="#view-返回视图响应支持自定义后缀" class="header-anchor">#</a> view 返回视图响应支持自定义后缀</h2> <p><strong>fixture 定义</strong></p> <p><strong>tests/Router/assert/view1.foo</strong></p> <div class="language-php extra-class"><pre class="language-php"><code>hello view1.foo for <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$foo</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>.
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testViewWithCustomExt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'view1'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar new'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'.foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello view1.foo for bar new.'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$headers</span> <span class="token operator">=</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$headers</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="view-返回视图成功消息"><a href="#view-返回视图成功消息" class="header-anchor">#</a> view 返回视图成功消息</h2> <p>默认错误模板为 <code>success</code>。</p> <p><strong>fixture 定义</strong></p> <p><strong>tests/Router/assert/success.php</strong></p> <div class="language-php extra-class"><pre class="language-php"><code>success! message is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,url is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,time is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$time</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>.
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testViewSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">viewSuccess</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'it is success.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success! message is it is success.,url is ,time is 1.'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="setviewsuccesstemplate-返回视图成功消息支持设置视图正确模板"><a href="#setviewsuccesstemplate-返回视图成功消息支持设置视图正确模板" class="header-anchor">#</a> setViewSuccessTemplate 返回视图成功消息支持设置视图正确模板</h2> <p><strong>fixture 定义</strong></p> <p><strong>tests/Router/assert/success_custom.php</strong></p> <div class="language-php extra-class"><pre class="language-php"><code>success custom! message is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,url is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,time is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$time</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>.
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testViewSuccess3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setViewSuccessTemplate</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success_custom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">viewSuccess</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'it is success3.'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'http://queryphp.com'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'success custom! message is it is success3.,url is http://queryphp.com,time is 3.'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="view-返回视图失败消息"><a href="#view-返回视图失败消息" class="header-anchor">#</a> view 返回视图失败消息</h2> <p>默认错误模板为 <code>fail</code>。</p> <p><strong>fixture 定义</strong></p> <p><strong>tests/Router/assert/fail.php</strong></p> <div class="language-php extra-class"><pre class="language-php"><code>fail! message is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,url is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,time is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$time</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>.
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testViewFail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">viewFail</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'it is fail.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'fail! message is it is fail.,url is ,time is 3.'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="setviewfailtemplate-返回视图失败消息支持设置视图错误模板"><a href="#setviewfailtemplate-返回视图失败消息支持设置视图错误模板" class="header-anchor">#</a> setViewFailTemplate 返回视图失败消息支持设置视图错误模板</h2> <p><strong>fixture 定义</strong></p> <p><strong>tests/Router/assert/fail_custom.php</strong></p> <div class="language-php extra-class"><pre class="language-php"><code>fail custom! message is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,url is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>,time is <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$time</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>.
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testViewFail3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setViewFailTemplate</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'fail_custom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">viewFail</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'it is fail3.'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'http://queryphp.com'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'fail custom! message is it is fail3.,url is http://queryphp.com,time is 3.'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="json-返回-json-响应"><a href="#json-返回-json-响应" class="header-anchor">#</a> json 返回 JSON 响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>JsonResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'{}'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'application/json'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="json-返回-json-响应支持数组"><a href="#json-返回-json-响应支持数组" class="header-anchor">#</a> json 返回 JSON 响应支持数组</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testJson3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'hello'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'world'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>JsonResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'{&quot;foo&quot;:&quot;bar&quot;,&quot;hello&quot;:&quot;world&quot;}'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'content-type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'application/json'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="json-返回-json-响应支持原生-json-字符串"><a href="#json-返回-json-响应支持原生-json-字符串" class="header-anchor">#</a> json 返回 JSON 响应支持原生 JSON 字符串</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testJson4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'{&quot;foo&quot;:&quot;bar&quot;,&quot;hello&quot;:&quot;world&quot;}'</span><span class="token punctuation">,</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>JsonResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'{&quot;foo&quot;:&quot;bar&quot;,&quot;hello&quot;:&quot;world&quot;}'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'content-type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'application/json'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="jsonp-返回-jsonp-响应"><a href="#jsonp-返回-jsonp-响应" class="header-anchor">#</a> jsonp 返回 JSONP 响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testJsonp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">jsonp</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>JsonResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/**/foo({});'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'text/javascript'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="download-返回下载响应"><a href="#download-返回下载响应" class="header-anchor">#</a> download 返回下载响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testDownload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attachment; filename=download.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="download-返回下载响应支持-splfileinfo"><a href="#download-返回下载响应支持-splfileinfo" class="header-anchor">#</a> download 返回下载响应支持 \SplFileInfo</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testDownload2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SplFileInfo</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attachment; filename=download.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="download-返回下载响应支持-splfileobject"><a href="#download-返回下载响应支持-splfileobject" class="header-anchor">#</a> download 返回下载响应支持 \SplFileObject</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testDownload3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SplFileObject</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attachment; filename=download.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="download-返回下载响应支持自定义文件名"><a href="#download-返回下载响应支持自定义文件名" class="header-anchor">#</a> download 返回下载响应支持自定义文件名</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testDownload4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'foo.txt'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'attachment; filename=foo.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'bar'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'foo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="file-返回文件响应"><a href="#file-返回文件响应" class="header-anchor">#</a> file 返回文件响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'inline; filename=download.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="file-返回文件响应支持-splfileinfo"><a href="#file-返回文件响应支持-splfileinfo" class="header-anchor">#</a> file 返回文件响应支持 \SplFileInfo</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testFile2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SplFileInfo</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'inline; filename=download.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="file-返回文件响应支持-splfileobject"><a href="#file-返回文件响应支持-splfileobject" class="header-anchor">#</a> file 返回文件响应支持 \SplFileObject</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testFile3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SplFileObject</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/assert/download.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>BinaryFileResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertFalse</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'inline; filename=download.txt'</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="redirect-返回一个-url-生成跳转响应"><a href="#redirect-返回一个-url-生成跳转响应" class="header-anchor">#</a> redirect 返回一个 URL 生成跳转响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello/world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token single-quoted-string string">'eot'</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token double-quoted-string string">&quot;UTF-8&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token double-quoted-string string">&quot;refresh&quot;</span> content<span class="token operator">=</span><span class="token double-quoted-string string">&quot;0;url='http://www.queryphp.com/hello/world'&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

                <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Redirecting to http<span class="token punctuation">:</span><span class="token comment">//www.queryphp.com/hello/world&lt;/title&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
                Redirecting to <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token double-quoted-string string">&quot;http://www.queryphp.com/hello/world&quot;</span><span class="token operator">&gt;</span>http<span class="token punctuation">:</span><span class="token comment">//www.queryphp.com/hello/world&lt;/a&gt;.</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
        eot<span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>RedirectResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'location'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'http://www.queryphp.com/hello/world'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="redirectraw-返回一个跳转响应"><a href="#redirectraw-返回一个跳转响应" class="header-anchor">#</a> redirectRaw 返回一个跳转响应</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testRedirectRaw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$view</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$redirect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">makeRedirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$factory</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RouterResponse</span><span class="token punctuation">(</span><span class="token variable">$view</span><span class="token punctuation">,</span> <span class="token variable">$redirect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$response</span> <span class="token operator">=</span> <span class="token variable">$factory</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirectRaw</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http://queryphp.com/raw'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token single-quoted-string string">'eot'</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token double-quoted-string string">&quot;UTF-8&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token double-quoted-string string">&quot;refresh&quot;</span> content<span class="token operator">=</span><span class="token double-quoted-string string">&quot;0;url='http://queryphp.com/raw'&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

                <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Redirecting to http<span class="token punctuation">:</span><span class="token comment">//queryphp.com/raw&lt;/title&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
                Redirecting to <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token double-quoted-string string">&quot;http://queryphp.com/raw&quot;</span><span class="token operator">&gt;</span>http<span class="token punctuation">:</span><span class="token comment">//queryphp.com/raw&lt;/a&gt;.</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
        eot<span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Response<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>RedirectResponse<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token variable">$content</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'location'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'http://queryphp.com/raw'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getFilterHeaders</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">headers</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh-CN/docs/router/url.html" class="prev">
        URL 生成
      </a></span> <span class="next"><a href="/zh-CN/docs/router/annotation.html">
        注解路由
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.4e28babf.js" defer></script><script src="/assets/js/3.c395b2ff.js" defer></script><script src="/assets/js/376.f006b63f.js" defer></script>
  </body>
</html>
