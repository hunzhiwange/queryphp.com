<!DOCTYPE html>
<html lang="en-Us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>hasOne 一对一关联 | QueryPHP</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="High Performance PHP Progressive Framework.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.f6f54dc7.css" as="style"><link rel="preload" href="/assets/js/app.1fa40908.js" as="script"><link rel="preload" href="/assets/js/3.7fead861.js" as="script"><link rel="preload" href="/assets/js/122.351ef06d.js" as="script"><link rel="prefetch" href="/assets/js/10.eac0eac5.js"><link rel="prefetch" href="/assets/js/100.368fa632.js"><link rel="prefetch" href="/assets/js/101.0345eff8.js"><link rel="prefetch" href="/assets/js/102.d5c1abfd.js"><link rel="prefetch" href="/assets/js/103.c2ed27ae.js"><link rel="prefetch" href="/assets/js/104.235016c1.js"><link rel="prefetch" href="/assets/js/105.18ef31e2.js"><link rel="prefetch" href="/assets/js/106.602be689.js"><link rel="prefetch" href="/assets/js/107.c1ba8d04.js"><link rel="prefetch" href="/assets/js/108.ae01d60e.js"><link rel="prefetch" href="/assets/js/109.bbfa3100.js"><link rel="prefetch" href="/assets/js/11.096072d6.js"><link rel="prefetch" href="/assets/js/110.f07513fa.js"><link rel="prefetch" href="/assets/js/111.2070321d.js"><link rel="prefetch" href="/assets/js/112.8dde6540.js"><link rel="prefetch" href="/assets/js/113.1ae49b3f.js"><link rel="prefetch" href="/assets/js/114.c5eac3ff.js"><link rel="prefetch" href="/assets/js/115.3ce51359.js"><link rel="prefetch" href="/assets/js/116.3014ec51.js"><link rel="prefetch" href="/assets/js/117.6b68b8e0.js"><link rel="prefetch" href="/assets/js/118.62a8b4e1.js"><link rel="prefetch" href="/assets/js/119.6ba9ec81.js"><link rel="prefetch" href="/assets/js/12.84f0634e.js"><link rel="prefetch" href="/assets/js/120.a3b52e87.js"><link rel="prefetch" href="/assets/js/121.a762d321.js"><link rel="prefetch" href="/assets/js/123.4b17841c.js"><link rel="prefetch" href="/assets/js/124.d1140204.js"><link rel="prefetch" href="/assets/js/125.6b0ebc24.js"><link rel="prefetch" href="/assets/js/126.a6497209.js"><link rel="prefetch" href="/assets/js/127.3ec06ddb.js"><link rel="prefetch" href="/assets/js/128.e24bbfd7.js"><link rel="prefetch" href="/assets/js/129.02081699.js"><link rel="prefetch" href="/assets/js/13.b6d97674.js"><link rel="prefetch" href="/assets/js/130.0f980467.js"><link rel="prefetch" href="/assets/js/131.6a2bb817.js"><link rel="prefetch" href="/assets/js/132.2e2986f5.js"><link rel="prefetch" href="/assets/js/133.51a1a1d4.js"><link rel="prefetch" href="/assets/js/134.db932fe4.js"><link rel="prefetch" href="/assets/js/135.105dd23f.js"><link rel="prefetch" href="/assets/js/136.6bf7f9e2.js"><link rel="prefetch" href="/assets/js/137.80a4922f.js"><link rel="prefetch" href="/assets/js/138.32d47748.js"><link rel="prefetch" href="/assets/js/139.416dd598.js"><link rel="prefetch" href="/assets/js/14.0762709a.js"><link rel="prefetch" href="/assets/js/140.0526a1a7.js"><link rel="prefetch" href="/assets/js/141.6f0325a2.js"><link rel="prefetch" href="/assets/js/142.bdd0e4c7.js"><link rel="prefetch" href="/assets/js/143.989ea22a.js"><link rel="prefetch" href="/assets/js/144.a1cd1dc0.js"><link rel="prefetch" href="/assets/js/145.3e2bfabd.js"><link rel="prefetch" href="/assets/js/146.f3dc7600.js"><link rel="prefetch" href="/assets/js/147.b4137ccb.js"><link rel="prefetch" href="/assets/js/148.8fa664b9.js"><link rel="prefetch" href="/assets/js/149.a95d9a1a.js"><link rel="prefetch" href="/assets/js/15.1b80da4e.js"><link rel="prefetch" href="/assets/js/150.b64b947f.js"><link rel="prefetch" href="/assets/js/151.e9ccded1.js"><link rel="prefetch" href="/assets/js/152.2243e947.js"><link rel="prefetch" href="/assets/js/153.6b5342e4.js"><link rel="prefetch" href="/assets/js/154.aeb93cc6.js"><link rel="prefetch" href="/assets/js/155.177d0368.js"><link rel="prefetch" href="/assets/js/156.0dff7c18.js"><link rel="prefetch" href="/assets/js/157.0f96ffbd.js"><link rel="prefetch" href="/assets/js/158.5e72e814.js"><link rel="prefetch" href="/assets/js/159.2321aef6.js"><link rel="prefetch" href="/assets/js/16.2b887b64.js"><link rel="prefetch" href="/assets/js/160.8c8f491e.js"><link rel="prefetch" href="/assets/js/161.772e4950.js"><link rel="prefetch" href="/assets/js/162.622dbae1.js"><link rel="prefetch" href="/assets/js/163.9927a966.js"><link rel="prefetch" href="/assets/js/164.50a0f9b3.js"><link rel="prefetch" href="/assets/js/165.7b693ab0.js"><link rel="prefetch" href="/assets/js/166.6bb4ddfd.js"><link rel="prefetch" href="/assets/js/167.3bc534f1.js"><link rel="prefetch" href="/assets/js/168.4385d758.js"><link rel="prefetch" href="/assets/js/169.e6a0ccdd.js"><link rel="prefetch" href="/assets/js/17.8b77d7e7.js"><link rel="prefetch" href="/assets/js/170.66173677.js"><link rel="prefetch" href="/assets/js/171.b06fcd8c.js"><link rel="prefetch" href="/assets/js/172.21520ca8.js"><link rel="prefetch" href="/assets/js/173.d6327842.js"><link rel="prefetch" href="/assets/js/174.5a59cc08.js"><link rel="prefetch" href="/assets/js/175.31fd0d6e.js"><link rel="prefetch" href="/assets/js/176.22b3b134.js"><link rel="prefetch" href="/assets/js/177.352d3397.js"><link rel="prefetch" href="/assets/js/178.5fc22adc.js"><link rel="prefetch" href="/assets/js/179.2ba72c16.js"><link rel="prefetch" href="/assets/js/18.85a1f9a9.js"><link rel="prefetch" href="/assets/js/180.96581431.js"><link rel="prefetch" href="/assets/js/181.5f903e30.js"><link rel="prefetch" href="/assets/js/182.7607f654.js"><link rel="prefetch" href="/assets/js/183.399d4d59.js"><link rel="prefetch" href="/assets/js/184.29aa5e0a.js"><link rel="prefetch" href="/assets/js/185.8e87e256.js"><link rel="prefetch" href="/assets/js/186.cde6530c.js"><link rel="prefetch" href="/assets/js/187.4c2555eb.js"><link rel="prefetch" href="/assets/js/188.4df7e8c5.js"><link rel="prefetch" href="/assets/js/189.4429b18d.js"><link rel="prefetch" href="/assets/js/19.e39d49c8.js"><link rel="prefetch" href="/assets/js/190.6e9a784e.js"><link rel="prefetch" href="/assets/js/191.a624c3e1.js"><link rel="prefetch" href="/assets/js/192.c490e1bd.js"><link rel="prefetch" href="/assets/js/193.59407a91.js"><link rel="prefetch" href="/assets/js/194.9c5aac08.js"><link rel="prefetch" href="/assets/js/195.36bf7aa1.js"><link rel="prefetch" href="/assets/js/196.c8aa8c7a.js"><link rel="prefetch" href="/assets/js/197.2d4aff06.js"><link rel="prefetch" href="/assets/js/198.a59c1c7a.js"><link rel="prefetch" href="/assets/js/199.b542d754.js"><link rel="prefetch" href="/assets/js/20.7fe71cba.js"><link rel="prefetch" href="/assets/js/200.e9375be0.js"><link rel="prefetch" href="/assets/js/201.61c81d6b.js"><link rel="prefetch" href="/assets/js/202.98b05cda.js"><link rel="prefetch" href="/assets/js/203.37b5eda0.js"><link rel="prefetch" href="/assets/js/204.0069bb29.js"><link rel="prefetch" href="/assets/js/205.ae7f0d86.js"><link rel="prefetch" href="/assets/js/206.ec2b1d2a.js"><link rel="prefetch" href="/assets/js/207.5b05469f.js"><link rel="prefetch" href="/assets/js/208.abf7dfa9.js"><link rel="prefetch" href="/assets/js/209.45fec1ed.js"><link rel="prefetch" href="/assets/js/21.9922328f.js"><link rel="prefetch" href="/assets/js/210.dab2d9c7.js"><link rel="prefetch" href="/assets/js/211.60416e3b.js"><link rel="prefetch" href="/assets/js/212.3d35c6c1.js"><link rel="prefetch" href="/assets/js/213.c654ef1c.js"><link rel="prefetch" href="/assets/js/214.e90aaadc.js"><link rel="prefetch" href="/assets/js/215.3c6ff8e9.js"><link rel="prefetch" href="/assets/js/216.766e21a8.js"><link rel="prefetch" href="/assets/js/217.f1f8a6b7.js"><link rel="prefetch" href="/assets/js/218.6df04180.js"><link rel="prefetch" href="/assets/js/219.515ffb7b.js"><link rel="prefetch" href="/assets/js/22.8c1240f9.js"><link rel="prefetch" href="/assets/js/220.4f27759e.js"><link rel="prefetch" href="/assets/js/221.6e621cae.js"><link rel="prefetch" href="/assets/js/222.1872826a.js"><link rel="prefetch" href="/assets/js/223.08d0dbdc.js"><link rel="prefetch" href="/assets/js/224.b11985f8.js"><link rel="prefetch" href="/assets/js/225.5f07ecb1.js"><link rel="prefetch" href="/assets/js/226.6b1d6caf.js"><link rel="prefetch" href="/assets/js/227.734c3c2f.js"><link rel="prefetch" href="/assets/js/228.a055a7ae.js"><link rel="prefetch" href="/assets/js/229.a26dccb2.js"><link rel="prefetch" href="/assets/js/23.4fb3267a.js"><link rel="prefetch" href="/assets/js/230.6fecc6d5.js"><link rel="prefetch" href="/assets/js/231.281b82a7.js"><link rel="prefetch" href="/assets/js/232.9bdc1843.js"><link rel="prefetch" href="/assets/js/233.dc7d542b.js"><link rel="prefetch" href="/assets/js/234.c0c1b3f6.js"><link rel="prefetch" href="/assets/js/235.2f34d3ba.js"><link rel="prefetch" href="/assets/js/236.aa4f3adc.js"><link rel="prefetch" href="/assets/js/237.128d6ba2.js"><link rel="prefetch" href="/assets/js/238.9e2a7eb5.js"><link rel="prefetch" href="/assets/js/239.5246bc6c.js"><link rel="prefetch" href="/assets/js/24.06ec94ac.js"><link rel="prefetch" href="/assets/js/240.e09e2ea8.js"><link rel="prefetch" href="/assets/js/241.25e78043.js"><link rel="prefetch" href="/assets/js/242.0643d585.js"><link rel="prefetch" href="/assets/js/243.efbcbc1a.js"><link rel="prefetch" href="/assets/js/244.51445365.js"><link rel="prefetch" href="/assets/js/245.060cdd93.js"><link rel="prefetch" href="/assets/js/246.8d7a9e82.js"><link rel="prefetch" href="/assets/js/247.f457c7d6.js"><link rel="prefetch" href="/assets/js/248.dd3f92ec.js"><link rel="prefetch" href="/assets/js/249.3e5361fd.js"><link rel="prefetch" href="/assets/js/25.ed266ac3.js"><link rel="prefetch" href="/assets/js/250.0f2e4e49.js"><link rel="prefetch" href="/assets/js/251.a97c41be.js"><link rel="prefetch" href="/assets/js/252.6a20b059.js"><link rel="prefetch" href="/assets/js/253.721cee52.js"><link rel="prefetch" href="/assets/js/254.e8465042.js"><link rel="prefetch" href="/assets/js/255.3d68afa6.js"><link rel="prefetch" href="/assets/js/256.e5ae00ed.js"><link rel="prefetch" href="/assets/js/257.aff65644.js"><link rel="prefetch" href="/assets/js/258.09be3a0d.js"><link rel="prefetch" href="/assets/js/259.d2d1032b.js"><link rel="prefetch" href="/assets/js/26.d7ab2c9d.js"><link rel="prefetch" href="/assets/js/260.7035e77e.js"><link rel="prefetch" href="/assets/js/261.89a125c2.js"><link rel="prefetch" href="/assets/js/262.0dfc0b4c.js"><link rel="prefetch" href="/assets/js/263.0dce73dd.js"><link rel="prefetch" href="/assets/js/264.0b42f40c.js"><link rel="prefetch" href="/assets/js/265.04f55b6e.js"><link rel="prefetch" href="/assets/js/266.0729c717.js"><link rel="prefetch" href="/assets/js/267.58662450.js"><link rel="prefetch" href="/assets/js/268.2eb2f8f1.js"><link rel="prefetch" href="/assets/js/269.35f1b108.js"><link rel="prefetch" href="/assets/js/27.81c96578.js"><link rel="prefetch" href="/assets/js/270.b5a944da.js"><link rel="prefetch" href="/assets/js/271.fa7fe2d8.js"><link rel="prefetch" href="/assets/js/272.0c40c9d8.js"><link rel="prefetch" href="/assets/js/273.e4b7df48.js"><link rel="prefetch" href="/assets/js/274.c6e6cc20.js"><link rel="prefetch" href="/assets/js/275.b817e2aa.js"><link rel="prefetch" href="/assets/js/276.4a18bafe.js"><link rel="prefetch" href="/assets/js/277.60d91bd9.js"><link rel="prefetch" href="/assets/js/278.c750e185.js"><link rel="prefetch" href="/assets/js/279.3fc3a625.js"><link rel="prefetch" href="/assets/js/28.88ec39cf.js"><link rel="prefetch" href="/assets/js/280.c0a11d97.js"><link rel="prefetch" href="/assets/js/281.2d1b6454.js"><link rel="prefetch" href="/assets/js/282.64a14fc0.js"><link rel="prefetch" href="/assets/js/283.9d4eb8dc.js"><link rel="prefetch" href="/assets/js/284.82645d6c.js"><link rel="prefetch" href="/assets/js/285.0f6eef88.js"><link rel="prefetch" href="/assets/js/286.92a63bb3.js"><link rel="prefetch" href="/assets/js/287.4a963ff9.js"><link rel="prefetch" href="/assets/js/288.43b226b7.js"><link rel="prefetch" href="/assets/js/289.fbb855a6.js"><link rel="prefetch" href="/assets/js/29.a902dccf.js"><link rel="prefetch" href="/assets/js/290.cff02d18.js"><link rel="prefetch" href="/assets/js/291.4934394d.js"><link rel="prefetch" href="/assets/js/292.92846ba5.js"><link rel="prefetch" href="/assets/js/293.a2e9ee13.js"><link rel="prefetch" href="/assets/js/294.a67fe767.js"><link rel="prefetch" href="/assets/js/295.4ca17b5a.js"><link rel="prefetch" href="/assets/js/296.4c0f5ae0.js"><link rel="prefetch" href="/assets/js/297.aef0d63f.js"><link rel="prefetch" href="/assets/js/298.d6edf105.js"><link rel="prefetch" href="/assets/js/299.7ee51718.js"><link rel="prefetch" href="/assets/js/30.a84dfa18.js"><link rel="prefetch" href="/assets/js/300.65a7961d.js"><link rel="prefetch" href="/assets/js/301.061dfa99.js"><link rel="prefetch" href="/assets/js/302.a50e5559.js"><link rel="prefetch" href="/assets/js/303.41e7e42e.js"><link rel="prefetch" href="/assets/js/304.fd204f7b.js"><link rel="prefetch" href="/assets/js/305.993cf223.js"><link rel="prefetch" href="/assets/js/306.08fcec1e.js"><link rel="prefetch" href="/assets/js/307.e2ed0370.js"><link rel="prefetch" href="/assets/js/308.1fe08907.js"><link rel="prefetch" href="/assets/js/309.b058a916.js"><link rel="prefetch" href="/assets/js/31.d9635fcc.js"><link rel="prefetch" href="/assets/js/310.afda4f9e.js"><link rel="prefetch" href="/assets/js/311.1d0ecc22.js"><link rel="prefetch" href="/assets/js/312.a29741bd.js"><link rel="prefetch" href="/assets/js/313.7191f6e1.js"><link rel="prefetch" href="/assets/js/314.13a93c71.js"><link rel="prefetch" href="/assets/js/315.05d9bd9d.js"><link rel="prefetch" href="/assets/js/316.574f092c.js"><link rel="prefetch" href="/assets/js/317.984dcba3.js"><link rel="prefetch" href="/assets/js/318.c3c8a7ac.js"><link rel="prefetch" href="/assets/js/319.424053ad.js"><link rel="prefetch" href="/assets/js/32.73c8cf2b.js"><link rel="prefetch" href="/assets/js/320.b76cfc49.js"><link rel="prefetch" href="/assets/js/321.78562076.js"><link rel="prefetch" href="/assets/js/322.8cdb7e92.js"><link rel="prefetch" href="/assets/js/323.bdaf3b91.js"><link rel="prefetch" href="/assets/js/324.780a105e.js"><link rel="prefetch" href="/assets/js/325.3733ca3e.js"><link rel="prefetch" href="/assets/js/326.5ef0fea9.js"><link rel="prefetch" href="/assets/js/327.4c11df8d.js"><link rel="prefetch" href="/assets/js/328.0145cdae.js"><link rel="prefetch" href="/assets/js/329.e59e39e0.js"><link rel="prefetch" href="/assets/js/33.6bdee2d5.js"><link rel="prefetch" href="/assets/js/330.15b96302.js"><link rel="prefetch" href="/assets/js/331.0a0c3662.js"><link rel="prefetch" href="/assets/js/332.fa9a1d88.js"><link rel="prefetch" href="/assets/js/333.ed946251.js"><link rel="prefetch" href="/assets/js/334.d02ea4fc.js"><link rel="prefetch" href="/assets/js/335.4d4fad79.js"><link rel="prefetch" href="/assets/js/336.379bf12f.js"><link rel="prefetch" href="/assets/js/337.e7e789dd.js"><link rel="prefetch" href="/assets/js/338.e30331cf.js"><link rel="prefetch" href="/assets/js/339.d878e58a.js"><link rel="prefetch" href="/assets/js/34.953882cd.js"><link rel="prefetch" href="/assets/js/340.e804df99.js"><link rel="prefetch" href="/assets/js/341.4883698b.js"><link rel="prefetch" href="/assets/js/342.60c282ee.js"><link rel="prefetch" href="/assets/js/343.0debdc68.js"><link rel="prefetch" href="/assets/js/344.e07b9ccb.js"><link rel="prefetch" href="/assets/js/345.0d7f029b.js"><link rel="prefetch" href="/assets/js/346.ac00eb11.js"><link rel="prefetch" href="/assets/js/347.24ce4a6f.js"><link rel="prefetch" href="/assets/js/348.2481b85c.js"><link rel="prefetch" href="/assets/js/349.cbd48778.js"><link rel="prefetch" href="/assets/js/35.0852d7b4.js"><link rel="prefetch" href="/assets/js/350.41d01d59.js"><link rel="prefetch" href="/assets/js/351.f19ab35f.js"><link rel="prefetch" href="/assets/js/352.590b4f3b.js"><link rel="prefetch" href="/assets/js/353.006fa233.js"><link rel="prefetch" href="/assets/js/354.36e541e7.js"><link rel="prefetch" href="/assets/js/355.81d1e75d.js"><link rel="prefetch" href="/assets/js/356.6f2cd51e.js"><link rel="prefetch" href="/assets/js/357.4ff734f8.js"><link rel="prefetch" href="/assets/js/358.00f10c1f.js"><link rel="prefetch" href="/assets/js/359.16872668.js"><link rel="prefetch" href="/assets/js/36.619c2ddf.js"><link rel="prefetch" href="/assets/js/360.acf621ae.js"><link rel="prefetch" href="/assets/js/361.7fd65d2c.js"><link rel="prefetch" href="/assets/js/362.60360c20.js"><link rel="prefetch" href="/assets/js/363.71f7487d.js"><link rel="prefetch" href="/assets/js/364.c8654577.js"><link rel="prefetch" href="/assets/js/365.d3f30e94.js"><link rel="prefetch" href="/assets/js/366.2c0faccb.js"><link rel="prefetch" href="/assets/js/367.c13b3e72.js"><link rel="prefetch" href="/assets/js/368.f2f74ca6.js"><link rel="prefetch" href="/assets/js/369.1162708e.js"><link rel="prefetch" href="/assets/js/37.02dca668.js"><link rel="prefetch" href="/assets/js/370.88f3e6c0.js"><link rel="prefetch" href="/assets/js/371.fb156999.js"><link rel="prefetch" href="/assets/js/372.284ce8d3.js"><link rel="prefetch" href="/assets/js/373.6f14e18d.js"><link rel="prefetch" href="/assets/js/374.afd537e0.js"><link rel="prefetch" href="/assets/js/375.78487da1.js"><link rel="prefetch" href="/assets/js/376.f8d881b6.js"><link rel="prefetch" href="/assets/js/377.03505cdf.js"><link rel="prefetch" href="/assets/js/378.ab4daf5f.js"><link rel="prefetch" href="/assets/js/379.3edd1e3f.js"><link rel="prefetch" href="/assets/js/38.f24a049a.js"><link rel="prefetch" href="/assets/js/380.41988c3a.js"><link rel="prefetch" href="/assets/js/381.cc441500.js"><link rel="prefetch" href="/assets/js/382.2c745fa1.js"><link rel="prefetch" href="/assets/js/383.fe50deef.js"><link rel="prefetch" href="/assets/js/384.ba5d5e8c.js"><link rel="prefetch" href="/assets/js/385.ad631a63.js"><link rel="prefetch" href="/assets/js/386.78c51913.js"><link rel="prefetch" href="/assets/js/387.124d6321.js"><link rel="prefetch" href="/assets/js/388.7b1d976a.js"><link rel="prefetch" href="/assets/js/389.1526c915.js"><link rel="prefetch" href="/assets/js/39.e93d1116.js"><link rel="prefetch" href="/assets/js/390.f299db71.js"><link rel="prefetch" href="/assets/js/391.b1ae8926.js"><link rel="prefetch" href="/assets/js/392.8040fde6.js"><link rel="prefetch" href="/assets/js/393.5ff07e01.js"><link rel="prefetch" href="/assets/js/394.a953b9fb.js"><link rel="prefetch" href="/assets/js/395.f2bc47bf.js"><link rel="prefetch" href="/assets/js/396.9fbd473c.js"><link rel="prefetch" href="/assets/js/397.433c40ad.js"><link rel="prefetch" href="/assets/js/398.88cc4861.js"><link rel="prefetch" href="/assets/js/399.53260b2b.js"><link rel="prefetch" href="/assets/js/4.5a25ddbf.js"><link rel="prefetch" href="/assets/js/40.0f8ce7f4.js"><link rel="prefetch" href="/assets/js/400.9403b232.js"><link rel="prefetch" href="/assets/js/401.401d4489.js"><link rel="prefetch" href="/assets/js/402.44a1a7e8.js"><link rel="prefetch" href="/assets/js/403.7a5da60c.js"><link rel="prefetch" href="/assets/js/404.c33d6d74.js"><link rel="prefetch" href="/assets/js/405.9f0804d4.js"><link rel="prefetch" href="/assets/js/406.a4c9944b.js"><link rel="prefetch" href="/assets/js/407.517f8455.js"><link rel="prefetch" href="/assets/js/408.d9e814ec.js"><link rel="prefetch" href="/assets/js/409.e9616856.js"><link rel="prefetch" href="/assets/js/41.ccc29c48.js"><link rel="prefetch" href="/assets/js/410.983a85bc.js"><link rel="prefetch" href="/assets/js/411.411e249f.js"><link rel="prefetch" href="/assets/js/412.e571ade3.js"><link rel="prefetch" href="/assets/js/413.0d4b8408.js"><link rel="prefetch" href="/assets/js/414.adf8fdcc.js"><link rel="prefetch" href="/assets/js/415.ec147e45.js"><link rel="prefetch" href="/assets/js/416.9435f832.js"><link rel="prefetch" href="/assets/js/417.011f12e9.js"><link rel="prefetch" href="/assets/js/418.14be8263.js"><link rel="prefetch" href="/assets/js/419.278cdf2e.js"><link rel="prefetch" href="/assets/js/42.9520d0af.js"><link rel="prefetch" href="/assets/js/420.acc6dc7f.js"><link rel="prefetch" href="/assets/js/421.4eb42b7a.js"><link rel="prefetch" href="/assets/js/422.a5cdae86.js"><link rel="prefetch" href="/assets/js/423.b050f3d8.js"><link rel="prefetch" href="/assets/js/424.674a3dba.js"><link rel="prefetch" href="/assets/js/425.cca946f0.js"><link rel="prefetch" href="/assets/js/426.658fb3cc.js"><link rel="prefetch" href="/assets/js/427.77bcaef5.js"><link rel="prefetch" href="/assets/js/428.e552f5d8.js"><link rel="prefetch" href="/assets/js/429.00066df5.js"><link rel="prefetch" href="/assets/js/43.7ab8439d.js"><link rel="prefetch" href="/assets/js/430.b9e0183d.js"><link rel="prefetch" href="/assets/js/431.515b4ffb.js"><link rel="prefetch" href="/assets/js/432.78e87efd.js"><link rel="prefetch" href="/assets/js/433.671ab62f.js"><link rel="prefetch" href="/assets/js/434.225e0cb0.js"><link rel="prefetch" href="/assets/js/435.85516d0a.js"><link rel="prefetch" href="/assets/js/436.56e07937.js"><link rel="prefetch" href="/assets/js/437.af5e3bbf.js"><link rel="prefetch" href="/assets/js/438.157cc9f4.js"><link rel="prefetch" href="/assets/js/439.b3374492.js"><link rel="prefetch" href="/assets/js/44.1c303d8d.js"><link rel="prefetch" href="/assets/js/440.1d24c2b3.js"><link rel="prefetch" href="/assets/js/441.e53640a6.js"><link rel="prefetch" href="/assets/js/442.2c61970b.js"><link rel="prefetch" href="/assets/js/443.5fb6e00d.js"><link rel="prefetch" href="/assets/js/444.bc75ae9d.js"><link rel="prefetch" href="/assets/js/445.cd3c39a0.js"><link rel="prefetch" href="/assets/js/446.ca4b16d0.js"><link rel="prefetch" href="/assets/js/45.5ec64ef6.js"><link rel="prefetch" href="/assets/js/46.d12e6234.js"><link rel="prefetch" href="/assets/js/47.cb797230.js"><link rel="prefetch" href="/assets/js/48.21c7a4be.js"><link rel="prefetch" href="/assets/js/49.f21bee72.js"><link rel="prefetch" href="/assets/js/5.66d1f4bf.js"><link rel="prefetch" href="/assets/js/50.3a322428.js"><link rel="prefetch" href="/assets/js/51.4aa20c83.js"><link rel="prefetch" href="/assets/js/52.1f0eda6c.js"><link rel="prefetch" href="/assets/js/53.8520e8d1.js"><link rel="prefetch" href="/assets/js/54.8a6fffcd.js"><link rel="prefetch" href="/assets/js/55.f1ca057f.js"><link rel="prefetch" href="/assets/js/56.818e5f7a.js"><link rel="prefetch" href="/assets/js/57.0eb3594f.js"><link rel="prefetch" href="/assets/js/58.5b5fd51f.js"><link rel="prefetch" href="/assets/js/59.5a5c2d67.js"><link rel="prefetch" href="/assets/js/6.9d118111.js"><link rel="prefetch" href="/assets/js/60.47165958.js"><link rel="prefetch" href="/assets/js/61.d2661a82.js"><link rel="prefetch" href="/assets/js/62.7ec6ef68.js"><link rel="prefetch" href="/assets/js/63.31e761d6.js"><link rel="prefetch" href="/assets/js/64.593f408d.js"><link rel="prefetch" href="/assets/js/65.b1a1cbde.js"><link rel="prefetch" href="/assets/js/66.59e4f7a4.js"><link rel="prefetch" href="/assets/js/67.79b112df.js"><link rel="prefetch" href="/assets/js/68.a102a314.js"><link rel="prefetch" href="/assets/js/69.e5639fe9.js"><link rel="prefetch" href="/assets/js/7.85d66dd3.js"><link rel="prefetch" href="/assets/js/70.5f243356.js"><link rel="prefetch" href="/assets/js/71.cb484093.js"><link rel="prefetch" href="/assets/js/72.5478dab2.js"><link rel="prefetch" href="/assets/js/73.1a521adc.js"><link rel="prefetch" href="/assets/js/74.d613174c.js"><link rel="prefetch" href="/assets/js/75.2d742c66.js"><link rel="prefetch" href="/assets/js/76.49e6c66d.js"><link rel="prefetch" href="/assets/js/77.3ba67cd5.js"><link rel="prefetch" href="/assets/js/78.e54e960d.js"><link rel="prefetch" href="/assets/js/79.790cf562.js"><link rel="prefetch" href="/assets/js/8.2e49c233.js"><link rel="prefetch" href="/assets/js/80.92376c8d.js"><link rel="prefetch" href="/assets/js/81.ca138ca9.js"><link rel="prefetch" href="/assets/js/82.575a67d9.js"><link rel="prefetch" href="/assets/js/83.d86c343e.js"><link rel="prefetch" href="/assets/js/84.7b46bd87.js"><link rel="prefetch" href="/assets/js/85.957bd970.js"><link rel="prefetch" href="/assets/js/86.a5f655e8.js"><link rel="prefetch" href="/assets/js/87.112080ec.js"><link rel="prefetch" href="/assets/js/88.6d522517.js"><link rel="prefetch" href="/assets/js/89.31c1fa0d.js"><link rel="prefetch" href="/assets/js/9.0388f7c2.js"><link rel="prefetch" href="/assets/js/90.0627a72e.js"><link rel="prefetch" href="/assets/js/91.5bfc873a.js"><link rel="prefetch" href="/assets/js/92.54161922.js"><link rel="prefetch" href="/assets/js/93.222c7298.js"><link rel="prefetch" href="/assets/js/94.2fdeec0a.js"><link rel="prefetch" href="/assets/js/95.e800de2a.js"><link rel="prefetch" href="/assets/js/96.0da22ea7.js"><link rel="prefetch" href="/assets/js/97.14f23b97.js"><link rel="prefetch" href="/assets/js/98.590467e2.js"><link rel="prefetch" href="/assets/js/99.7105fe68.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c6292dad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f6f54dc7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">QueryPHP</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docs" class="dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link router-link-active">
  Preface
</a></li><li class="dropdown-item"><!----> <a href="/docs/started/" class="nav-link">
  Started
</a></li><li class="dropdown-item"><!----> <a href="/docs/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/docs/architecture/" class="nav-link">
  Architecture
</a></li><li class="dropdown-item"><!----> <a href="/docs/router/" class="nav-link">
  Routing
</a></li><li class="dropdown-item"><!----> <a href="/docs/template/" class="nav-link">
  Template
</a></li><li class="dropdown-item"><!----> <a href="/docs/database/" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/docs/orm/" class="nav-link router-link-active">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/docs/validate/" class="nav-link">
  Validate
</a></li><li class="dropdown-item"><!----> <a href="/docs/protocol/coroutine.html" class="nav-link">
  Protocol
</a></li><li class="dropdown-item"><!----> <a href="/docs/component/support/str.html" class="nav-link">
  Component
</a></li><li class="dropdown-item"><!----> <a href="/docs/test/" class="nav-link">
  Test
</a></li><li class="dropdown-item"><!----> <a href="/docs/developer/" class="nav-link">
  Developer
</a></li></ul></div></div><div class="nav-item"><a href="/ecosystem/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About Us
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/orm/hasone.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/orm/hasone.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hunzhiwange/queryphp.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docs" class="dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/" class="nav-link router-link-active">
  Preface
</a></li><li class="dropdown-item"><!----> <a href="/docs/started/" class="nav-link">
  Started
</a></li><li class="dropdown-item"><!----> <a href="/docs/guide/" class="nav-link">
  Guide
</a></li><li class="dropdown-item"><!----> <a href="/docs/architecture/" class="nav-link">
  Architecture
</a></li><li class="dropdown-item"><!----> <a href="/docs/router/" class="nav-link">
  Routing
</a></li><li class="dropdown-item"><!----> <a href="/docs/template/" class="nav-link">
  Template
</a></li><li class="dropdown-item"><!----> <a href="/docs/database/" class="nav-link">
  Database
</a></li><li class="dropdown-item"><!----> <a href="/docs/orm/" class="nav-link router-link-active">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/docs/validate/" class="nav-link">
  Validate
</a></li><li class="dropdown-item"><!----> <a href="/docs/protocol/coroutine.html" class="nav-link">
  Protocol
</a></li><li class="dropdown-item"><!----> <a href="/docs/component/support/str.html" class="nav-link">
  Component
</a></li><li class="dropdown-item"><!----> <a href="/docs/test/" class="nav-link">
  Test
</a></li><li class="dropdown-item"><!----> <a href="/docs/developer/" class="nav-link">
  Developer
</a></li></ul></div></div><div class="nav-item"><a href="/ecosystem/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About Us
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/orm/hasone.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-CN/docs/orm/hasone.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hunzhiwange/queryphp.com" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ORM</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/orm/" aria-current="page" class="sidebar-link">Summary</a></li><li><a href="/docs/orm/entity.html" class="sidebar-link">实体</a></li><li><a href="/docs/orm/define.html" class="sidebar-link">实体常量</a></li><li><a href="/docs/orm/toarray.html" class="sidebar-link">实体导出数组</a></li><li><a href="/docs/orm/conversion.html" class="sidebar-link">实体类型转换</a></li><li><a href="/docs/orm/create.html" class="sidebar-link">保存实体</a></li><li><a href="/docs/orm/update.html" class="sidebar-link">更新实体</a></li><li><a href="/docs/orm/replace.html" class="sidebar-link">替换实体</a></li><li><a href="/docs/orm/delete.html" class="sidebar-link">删除实体</a></li><li><a href="/docs/orm/event.html" class="sidebar-link">实体事件</a></li><li><a href="/docs/orm/relation.html" class="sidebar-link">关联</a></li><li><a href="/docs/orm/belongsto.html" class="sidebar-link">belongsTo 从属关联</a></li><li><a href="/docs/orm/hasmany.html" class="sidebar-link">hasMany 一对多关联</a></li><li><a href="/docs/orm/hasone.html" aria-current="page" class="active sidebar-link">hasOne 一对一关联</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/orm/hasone.html#基本使用方法" class="sidebar-link">基本使用方法</a></li><li class="sidebar-sub-header"><a href="/docs/orm/hasone.html#eager-预加载关联" class="sidebar-link">eager 预加载关联</a></li><li class="sidebar-sub-header"><a href="/docs/orm/hasone.html#eager-预加载关联支持查询条件过滤" class="sidebar-link">eager 预加载关联支持查询条件过滤</a></li><li class="sidebar-sub-header"><a href="/docs/orm/hasone.html#relation-读取关联" class="sidebar-link">relation 读取关联</a></li><li class="sidebar-sub-header"><a href="/docs/orm/hasone.html#relation-关联模型数据不存在返回空实体" class="sidebar-link">relation 关联模型数据不存在返回空实体</a></li></ul></li><li><a href="/docs/orm/manymany.html" class="sidebar-link">manyMany 多对多关联</a></li><li><a href="/docs/orm/nested.html" class="sidebar-link">nested 嵌套预加载关联</a></li><li><a href="/docs/orm/select.html" class="sidebar-link">实体查询</a></li><li><a href="/docs/orm/unitofwork.html" class="sidebar-link">事务工作单元</a></li><li><a href="/docs/orm/repository.html" class="sidebar-link">仓储</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="hasone-一对一关联"><a href="#hasone-一对一关联" class="header-anchor">#</a> hasOne 一对一关联</h1> <div class="custom-block tip"><p class="custom-block-title">Testing Is Documentation</p> <p><a href="https://github.com/hunzhiwange/framework/blob/master/tests/Database/Ddd/Relation/HasOneTest.php" target="_blank" rel="noopener noreferrer">tests/Database/Ddd/Relation/HasOneTest.php<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <p>一对一的关联是一种常用的关联，比如一篇文章与文章内容属于一对一的关系。</p> <p><strong>一对一关联支持类型关联项</strong></p> <table><thead><tr><th>关联项</th> <th>说明</th> <th>例子</th></tr></thead> <tbody><tr><td>\Leevel\Database\Ddd\Entity::HAS_ONE</td> <td>一对一关联实体</td> <td>\Tests\Database\Ddd\Entity\Relation\PostContent::class</td></tr> <tr><td>\Leevel\Database\Ddd\Entity::SOURCE_KEY</td> <td>关联查询源键字段</td> <td>id</td></tr> <tr><td>\Leevel\Database\Ddd\Entity::TARGET_KEY</td> <td>关联目标键字段</td> <td>post_id</td></tr> <tr><td>\Leevel\Database\Ddd\Entity::RELATION_SCOPE</td> <td>关联查询作用域</td> <td>foo</td></tr></tbody></table> <p><strong>Uses</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Relation<span class="token punctuation">\</span>HasOne</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Relation<span class="token punctuation">\</span>Relation</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Select</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Collection</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>DatabaseTestCase</span> <span class="token keyword">as</span> TestCase<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Entity<span class="token punctuation">\</span>Relation<span class="token punctuation">\</span>Post</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Tests<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Entity<span class="token punctuation">\</span>Relation<span class="token punctuation">\</span>PostContent</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="基本使用方法"><a href="#基本使用方法" class="header-anchor">#</a> 基本使用方法</h2> <p><strong>fixture 定义</strong></p> <p><strong>Tests\Database\Ddd\Entity\Relation\Post</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Entity<span class="token punctuation">\</span>Relation</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Entity</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>GetterSetter</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Relation<span class="token punctuation">\</span>Relation</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token keyword">extends</span> <span class="token class-name">Entity</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">GetterSetter</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">TABLE</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'post'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">AUTO</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">STRUCT</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">READONLY</span>           <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'title'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'user_id'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'summary'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'create_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'delete_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CREATE_FILL</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'user'</span>      <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">BELONGS_TO</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">SOURCE_KEY</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'user_id'</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TARGET_KEY</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'comment'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HAS_MANY</span>          <span class="token operator">=</span><span class="token operator">&gt;</span> Comment<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">SOURCE_KEY</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TARGET_KEY</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">RELATION_SCOPE</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'comment'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'post_content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HAS_ONE</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">SOURCE_KEY</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TARGET_KEY</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'user_not_defined_source_key'</span>      <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">BELONGS_TO</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TARGET_KEY</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'user_not_defined_target_key'</span>      <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">BELONGS_TO</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> User<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">SOURCE_KEY</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'comment_not_defined_source_key'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HAS_MANY</span>          <span class="token operator">=</span><span class="token operator">&gt;</span> Comment<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TARGET_KEY</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">RELATION_SCOPE</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'comment'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'comment_not_defined_target_key'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HAS_MANY</span>          <span class="token operator">=</span><span class="token operator">&gt;</span> Comment<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">SOURCE_KEY</span>        <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">RELATION_SCOPE</span>    <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'comment'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'post_content_not_defined_source_key'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HAS_ONE</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TARGET_KEY</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'post_content_not_defined_target_key'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">HAS_ONE</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">SOURCE_KEY</span>  <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">DELETE_AT</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'delete_at'</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">relationScopeComment</span><span class="token punctuation">(</span>Relation <span class="token variable">$relation</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
    <span class="token punctuation">{</span>
        <span class="token variable">$relation</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'&gt;'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Tests\Database\Ddd\Entity\Relation\PostContent</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">Tests<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Entity<span class="token punctuation">\</span>Relation</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>Entity</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Leevel<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Ddd<span class="token punctuation">\</span>GetterSetter</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">PostContent</span> <span class="token keyword">extends</span> <span class="token class-name">Entity</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">GetterSetter</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">TABLE</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">AUTO</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">const</span> <span class="token constant">STRUCT</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'post_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
            self<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">READONLY</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean constant">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testBaseUse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$post</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$connect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDatabaseConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token variable">$connect</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token single-quoted-string string">'title'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'user_id'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'summary'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'delete_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token variable">$connect</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token single-quoted-string string">'post_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$post</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">user_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">userId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">title</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">summary</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'summary'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSummary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$postContent</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postContent</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">post_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'postId'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPostId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="eager-预加载关联"><a href="#eager-预加载关联" class="header-anchor">#</a> eager 预加载关联</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testEager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$post</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$connect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDatabaseConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
            <span class="token variable">$i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token variable">$connect</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                    <span class="token single-quoted-string string">'title'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'user_id'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'summary'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'delete_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
            <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token variable">$connect</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                    <span class="token single-quoted-string string">'post_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token variable">$posts</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">eager</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$posts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertCount</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token variable">$posts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$posts</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$postContent</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postContent</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="eager-预加载关联支持查询条件过滤"><a href="#eager-预加载关联支持查询条件过滤" class="header-anchor">#</a> eager 预加载关联支持查询条件过滤</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testEagerWithCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$post</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$connect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDatabaseConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
            <span class="token variable">$i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token variable">$connect</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                    <span class="token single-quoted-string string">'title'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'user_id'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'summary'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'delete_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
            <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token variable">$connect</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                    <span class="token single-quoted-string string">'post_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$i</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token variable">$posts</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">eager</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post_content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Relation <span class="token variable">$select</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$select</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'&gt;'</span><span class="token punctuation">,</span> <span class="token number">99999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Collection<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$posts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertCount</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token variable">$posts</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$posts</span> <span class="token keyword">as</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$postContent</span> <span class="token operator">=</span> <span class="token variable">$value</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postContent</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNotSame</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNotSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="relation-读取关联"><a href="#relation-读取关联" class="header-anchor">#</a> relation 读取关联</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testRelationAsMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$connect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDatabaseConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token variable">$connect</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token single-quoted-string string">'title'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'user_id'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'summary'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'delete_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token variable">$connect</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token single-quoted-string string">'post_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$postContentRelation</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">relation</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'postContent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>HasOne<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContentRelation</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token variable">$postContentRelation</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSourceKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">,</span> <span class="token variable">$postContentRelation</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTargetKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContentRelation</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSourceEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContentRelation</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTargetEntity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Select<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContentRelation</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="relation-关联模型数据不存在返回空实体"><a href="#relation-关联模型数据不存在返回空实体" class="header-anchor">#</a> relation 关联模型数据不存在返回空实体</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">testRelationDataWasNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> void
<span class="token punctuation">{</span>
    <span class="token variable">$post</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$connect</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDatabaseConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token variable">$connect</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token single-quoted-string string">'title'</span>     <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'user_id'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'summary'</span>   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'delete_at'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span>
        <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token variable">$connect</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'post_content'</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token single-quoted-string string">'post_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'I am content with big data.'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$post</span> <span class="token operator">=</span> Post<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">user_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">userId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'user_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">title</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'hello world'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">summary</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'summary'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertSame</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Say hello to the world.'</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getSummary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$postContent</span> <span class="token operator">=</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postContent</span><span class="token punctuation">;</span>

    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertInstanceof</span><span class="token punctuation">(</span>PostContent<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$postContent</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">post_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">postId</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'post_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'postId'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getPostId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">assertNull</span><span class="token punctuation">(</span><span class="token variable">$postContent</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/orm/hasmany.html" class="prev">
        hasMany 一对多关联
      </a></span> <span class="next"><a href="/docs/orm/manymany.html">
        manyMany 多对多关联
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1fa40908.js" defer></script><script src="/assets/js/3.7fead861.js" defer></script><script src="/assets/js/122.351ef06d.js" defer></script>
  </body>
</html>
